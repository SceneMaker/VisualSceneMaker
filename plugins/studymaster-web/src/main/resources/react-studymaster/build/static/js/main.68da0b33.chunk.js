(this["webpackJsonpreact-studymaster"]=this["webpackJsonpreact-studymaster"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),o=(n(9),n(2)),i=n(1),s=(n(10),n(0));var r=function(){var e=Object(i.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(),r=Object(o.a)(a,2),l=r[0],u=r[1],d=Object(i.useState)(),b=Object(o.a)(d,2),j=b[0],p=b[1],h=new Map;function v(){var e;for(e=0;e<j.variable.length;e++){var t=j.variable[e];if("radio"===j.type[e]){var n,c=j.options[e].split(",");for(n=0;n<c.length;n++){var a=c[n];document.getElementById(a).checked&&l.send("VSMMessage#VAR#".concat(t,"#").concat(a))}}else"text"===j.type[e]?h.has(t)&&l.send("VSMMessage#VAR#".concat(t,"#").concat(h.get(t))):"checkbox"===j.type[e]&&(document.getElementById(t).checked?l.send("VSMMessage#VAR#".concat(t,"#true")):l.send("VSMMessage#VAR#".concat(t,"#false")))}}function m(e){var t=j.variable[e];if("text"===j.type[e])return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("input",{type:"text",name:t,placeholder:j.options[e],id:t,onChange:function(e){return h.set(t,e.target.value)}})});if("radio"===j.type[e]){var n=j.options[e].split(",");return Object(s.jsx)(s.Fragment,{children:n.map((function(e){return Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",id:e,name:t,value:e}),e]})}))})}return"checkbox"===j.type[e]?Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"checkbox",id:t,name:t,value:j.options[e]}),j.options[e]]})}):void 0}function f(e){return Object(s.jsxs)(s.Fragment,{children:["For variable ",Object(s.jsx)("input",{value:j.variable[e],id:"var"}),Object(s.jsx)("fieldset",{id:"selection",children:m(e)})]})}return Object(i.useEffect)((function(){var e=new WebSocket("ws://"+document.location.host+"/ws");c("Connecting..."),e.onopen=function(){c("Connected!")},e.onclose=function(){c("Lost connection")},e.onmessage=function(e){console.log(e.data);var t=e.data.split("#"),n=t[1];"REQUEST"===n&&p({action:n,variable:t[3].split(";"),options:t[4].split(";"),type:t[5].split(";"),timestamp:t[2]}),c(e.data)},u(e)}),[]),Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("button",{onClick:function(){l.send("VSMMessage#Go")},children:" Go "}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l.send(e.target.in.value)},children:[Object(s.jsx)("input",{id:"in"}),Object(s.jsx)("button",{type:"submit",children:" send "}),n]}),j&&"REQUEST"===j.action&&function(){var e,t=[];for(e=0;e<j.variable.length;e++){var n=f(e);t.push(n)}return Object(s.jsxs)("form",{onSubmit:v,children:[t,Object(s.jsx)("button",{children:" submit "})]})}()]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(s.jsx)(r,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.68da0b33.chunk.js.map