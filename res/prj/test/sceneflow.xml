<?xml version="1.0" encoding="UTF-8"?>
<SceneFlow id="" name="Behavior Flow Model" comment="" hideLocalVar="false" hideGlobalVar="false" modifDate="Fr, 26 Mai 2017 15:43:13" start="N79;" context="" package="" xmlns="xml.sceneflow.dfki.de" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="xml.sceneflow.dfki.de res/xsd/sceneflow.xsd">
  <Define>
  </Define>
  <Declare>
    <Variable type="String" name ="SystemTime">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserRole">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="AgentRole">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserAction">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="AgentAction">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserGaze">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="AgentGaze">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserFace">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserHead">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserMove">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserSpeech">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="Bool" name ="UserPresent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentPresent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserSpeaking">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentSpeaking">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserDragging">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserOverAgent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentOverUser">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserBargingIn">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserBearingUp">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserClaimingTurn">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentClaimingTurn">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserInterruptible">
      <Bool value="true"/>
    </Variable>
    <Variable type="Bool" name ="AgentInterruptible">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentInterjectable">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="SharedGaze">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="MutualGaze">
      <Bool value="false"/>
    </Variable>
    <Variable type="String" name ="W">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="Restart">
      <String><![CDATA[]]></String>
    </Variable>
  </Declare>
  <Commands>
  </Commands>
  <LocalVariableBadge>
    <Position xPos="4" yPos="-37"/>
  </LocalVariableBadge>
  <GlobalVariableBadge>
    <Position xPos="10" yPos="10"/>
  </GlobalVariableBadge>
  <Node id="N651" name="Clean And;Reset Fact; Base" history="false">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
      <PrologQuery>
      <String><![CDATA[clean, reset.]]></String>
      </PrologQuery>
    </Commands>
    <EEdge target="S56" start ="">
    <Graphics>
      <Connection>
        <ControlPoint xPos="346" yPos="66" ctrlXPos="366" ctrlYPos="66"/>
        <ControlPoint xPos="426" yPos="66" ctrlXPos="406" ctrlYPos="66"/>
      </Connection>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position xPos="266" yPos="26"/>
    </Graphics>
  </Node>
  <Node id="N79" name="Clean And;Reset Fact; Base" history="false">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
      <PrologQuery>
      <String><![CDATA[clean, reset.]]></String>
      </PrologQuery>
    </Commands>
    <EEdge target="S39" start ="">
    <Graphics>
      <Connection>
        <ControlPoint xPos="346" yPos="226" ctrlXPos="366" ctrlYPos="226"/>
        <ControlPoint xPos="426" yPos="226" ctrlXPos="406" ctrlYPos="226"/>
      </Connection>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position xPos="266" yPos="186"/>
    </Graphics>
  </Node>
  <Node id="N159" name="Cleanup;Fact Base" history="false">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
      <PrologQuery>
      <String><![CDATA[clean.]]></String>
      </PrologQuery>
    </Commands>
    <FEdge target="S3" start="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="666" yPos="386" ctrlXPos="686" ctrlYPos="386"/>
          <ControlPoint xPos="746" yPos="386" ctrlXPos="726" ctrlYPos="386"/>
        </Connection>
      </Graphics>
    </FEdge>
    <FEdge target="S98" start="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="661" yPos="406" ctrlXPos="686" ctrlYPos="420"/>
          <ControlPoint xPos="746" yPos="466" ctrlXPos="723" ctrlYPos="471"/>
        </Connection>
      </Graphics>
    </FEdge>
    <Graphics>
      <Position xPos="586" yPos="346"/>
    </Graphics>
  </Node>
  <SuperNode id="S56" name="Interaction;Behavior;Model" comment="" hideLocalVar="false" hideGlobalVar="false" start="S20;S26;S48;S40;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <Graphics>
      <Position xPos="426" yPos="26"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </GlobalVariableBadge>
    <Node id="N99" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="666" yPos="186"/>
      </Graphics>
    </Node>
    <SuperNode id="S26" name="Behavior;Pattern;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S6;S7;S12;S112;S1;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="346" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N50" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="666" yPos="186"/>
        </Graphics>
      </Node>
      <SuperNode id="S112" name="Turn-Taking;Conflict;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S10;S46;S150;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="506" yPos="26"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N225" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="826" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S10" name="Voice;Overlap;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S78;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="201" yPos="16"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N226" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="186" yPos="426"/>
            </Graphics>
          </Node>
          <Node id="N74" name="User;Overlaps;Agent" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverAgent"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S115" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="826" yPos="226" ctrlXPos="855" ctrlYPos="226"/>
                <ControlPoint xPos="906" yPos="266" ctrlXPos="876" ctrlYPos="236"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="746" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N86" name="Agent;Overlaps;User" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentOverUser"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S115" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="826" yPos="386" ctrlXPos="855" ctrlYPos="386"/>
                <ControlPoint xPos="906" yPos="346" ctrlXPos="876" ctrlYPos="375"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="746" yPos="346"/>
            </Graphics>
          </Node>
          <Node id="N148" name="Reset;Overlap;State" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentOverUser"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S78" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="306" ctrlXPos="486" ctrlYPos="306"/>
                <ControlPoint xPos="426" yPos="306" ctrlXPos="446" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="266"/>
            </Graphics>
          </Node>
          <Node id="N152" name="Reset;Overlap;State" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentOverUser"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S113" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="146" ctrlXPos="766" ctrlYPos="146"/>
                <ControlPoint xPos="586" yPos="146" ctrlXPos="726" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="906" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N153" name="Reset;Overlap;State" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentOverUser"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S114" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="466" ctrlXPos="766" ctrlYPos="466"/>
                <ControlPoint xPos="586" yPos="466" ctrlXPos="726" ctrlYPos="466"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="906" yPos="426"/>
            </Graphics>
          </Node>
          <SuperNode id="S78" name="Both Are;Silent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N228;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S113" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="212"/>
                  <ControlPoint xPos="506" yPos="146" ctrlXPos="452" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S114" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="399"/>
                  <ControlPoint xPos="506" yPos="466" ctrlXPos="452" ctrlYPos="466"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N227" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N228" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N228" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S113" name="Agent Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N230;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N74" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="169" ctrlXPos="635" ctrlYPos="178"/>
                  <ControlPoint xPos="746" yPos="226" ctrlXPos="679" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <IEdge target="N148" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="206"/>
                  <ControlPoint xPos="546" yPos="266" ctrlXPos="546" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N229" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N230" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N230" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S114" name="User Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N232;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N86" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="443" ctrlXPos="645" ctrlYPos="444"/>
                  <ControlPoint xPos="746" yPos="386" ctrlXPos="660" ctrlYPos="386"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <IEdge target="N148" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="546" yPos="426" ctrlXPos="546" ctrlYPos="420"/>
                  <ControlPoint xPos="546" yPos="346" ctrlXPos="546" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="426"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N231" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N232" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N232" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S115" name="Both Are;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N234;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N148" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="906" yPos="306" ctrlXPos="766" ctrlYPos="306"/>
                  <ControlPoint xPos="586" yPos="306" ctrlXPos="726" ctrlYPos="306"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="N152" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="946" yPos="266" ctrlXPos="946" ctrlYPos="246"/>
                  <ControlPoint xPos="946" yPos="186" ctrlXPos="947" ctrlYPos="222"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="N153" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="946" yPos="346" ctrlXPos="946" ctrlYPos="366"/>
                  <ControlPoint xPos="946" yPos="426" ctrlXPos="946" ctrlYPos="406"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="906" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N233" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N234" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N234" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="267" ctrlXPos="256" ctrlYPos="189"/>
                  <ControlPoint xPos="261" yPos="286" ctrlXPos="331" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S150" name="Voice;Conflict;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S154;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="BearUp">
              <String><![CDATA[500]]></String>
            </Variable>
            <Variable type="String" name ="BargeIn">
              <String><![CDATA[500]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="677" yPos="202"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N237" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="906" yPos="266"/>
            </Graphics>
          </Node>
          <Node id="N205" name="Set;Barge-In;State" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBargingIn"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S151" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="706" yPos="26" ctrlXPos="706" ctrlYPos="15"/>
                <ControlPoint xPos="637" yPos="26" ctrlXPos="644" ctrlYPos="15"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="666" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N209" name="Produce;Bear-Up;Signal" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user, turn, bearup).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="N212" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="386" ctrlXPos="446" ctrlYPos="386"/>
                <ControlPoint xPos="506" yPos="386" ctrlXPos="486" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="346"/>
            </Graphics>
          </Node>
          <Node id="N201" name="Reset;Barge-In;State" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBargingIn"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S154" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="421" yPos="86" ctrlXPos="494" ctrlYPos="128"/>
                <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="101"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N210" name="Reset;Bear-Up;State" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBearingUp"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S154" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="831" yPos="366" ctrlXPos="757" ctrlYPos="323"/>
                <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="350"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="826" yPos="346"/>
            </Graphics>
          </Node>
          <Node id="N211" name="Produce;Barge-In;Signal" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user, turn, bargein).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="N205" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="826" yPos="66" ctrlXPos="806" ctrlYPos="66"/>
                <ControlPoint xPos="746" yPos="66" ctrlXPos="766" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="826" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N212" name="Set;Bear-Up;State" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBearingUp"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S155" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="346" ctrlXPos="548" ctrlYPos="317"/>
                <ControlPoint xPos="615" yPos="346" ctrlXPos="605" ctrlYPos="317"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="346"/>
            </Graphics>
          </Node>
          <Node id="N294" name="Empty" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <CEdge target="N294" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="1116" yPos="187" ctrlXPos="1136" ctrlYPos="109"/>
                  <ControlPoint xPos="1141" yPos="206" ctrlXPos="1211" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[timeout(bearup, ]]></String>
                  <Variable name="T"/>
                </Add>
                <String><![CDATA[).]]></String>
              </Add>
              </PrologQuery>
            </CEdge>
            <Graphics>
              <Position xPos="1066" yPos="186"/>
            </Graphics>
          </Node>
          <SuperNode id="S151" name="User;Barging In;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N239;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N201" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="66" ctrlXPos="526" ctrlYPos="66"/>
                  <ControlPoint xPos="426" yPos="66" ctrlXPos="486" ctrlYPos="66"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverAgent"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N238" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="49" yPos="154"/>
              </Graphics>
            </Node>
            <Node id="N239" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N239" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="49" yPos="234"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S152" name="Await;Barge In;Timeout" comment="" hideLocalVar="false" hideGlobalVar="false" start="N241;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="826" yPos="266" ctrlXPos="764" ctrlYPos="303"/>
                  <ControlPoint xPos="666" yPos="266" ctrlXPos="728" ctrlYPos="301"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverAgent"/>
              </Not>
            </IEdge>
            <IEdge target="N211" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="866" yPos="186" ctrlXPos="866" ctrlYPos="166"/>
                  <ControlPoint xPos="866" yPos="106" ctrlXPos="866" ctrlYPos="126"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Variable name="BargeIn"/>
              </TimeoutCondition>
            </IEdge>
            <Graphics>
              <Position xPos="826" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N240" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N241" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N241" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="26" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S153" name="Await;Bear-Up;Timeout" comment="" hideLocalVar="false" hideGlobalVar="false" start="N243;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="266" ctrlXPos="488" ctrlYPos="300"/>
                  <ControlPoint xPos="586" yPos="266" ctrlXPos="529" ctrlYPos="302"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="AgentOverUser"/>
              </Not>
            </IEdge>
            <IEdge target="N209" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="286"/>
                  <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="326"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Variable name="BearUp"/>
              </TimeoutCondition>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N242" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="37" yPos="162"/>
              </Graphics>
            </Node>
            <Node id="N243" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N243" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="37" yPos="242"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S154" name="No Voice;Conflict;State" comment="" hideLocalVar="false" hideGlobalVar="false" start="N245;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S153" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="186" ctrlXPos="525" ctrlYPos="142"/>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="482" ctrlYPos="150"/>
                </Connection>
              </Graphics>
              <Variable name="AgentOverUser"/>
            </IEdge>
            <IEdge target="S152" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="186" ctrlXPos="728" ctrlYPos="141"/>
                  <ControlPoint xPos="826" yPos="186" ctrlXPos="767" ctrlYPos="156"/>
                </Connection>
              </Graphics>
              <Variable name="UserOverAgent"/>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N244" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N245" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N245" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="26" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S155" name="User;Bearing Up;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N247;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N210" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="386" ctrlXPos="726" ctrlYPos="386"/>
                  <ControlPoint xPos="826" yPos="386" ctrlXPos="766" ctrlYPos="386"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="AgentOverUser"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N246" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N247" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N247" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="26" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S46" name="Overlap;Category;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S175;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="Initial">
              <String><![CDATA[300]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="689" yPos="291"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N26" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="586"/>
            </Graphics>
          </Node>
          <Node id="N61" name="Initial;Continuer;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user, turn-initial, continuer).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S167" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="206"/>
                <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N62" name="Initial;Overlap;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user, turn-initial, overlap).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S58" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="146" ctrlXPos="1006" ctrlYPos="146"/>
                <ControlPoint xPos="906" yPos="466" ctrlXPos="1006" ctrlYPos="466"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="826" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N66" name="Internal;Overlap;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user, turn-internal, overlap).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S58" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="866" yPos="586" ctrlXPos="866" ctrlYPos="566"/>
                <ControlPoint xPos="866" yPos="506" ctrlXPos="866" ctrlYPos="526"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="826" yPos="586"/>
            </Graphics>
          </Node>
          <Node id="N202" name="Internal;Continuer;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user, turn-internal, continuer).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S167" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="426" ctrlXPos="386" ctrlYPos="406"/>
                <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="366"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="426"/>
            </Graphics>
          </Node>
          <Node id="N257" name="Empty" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <CEdge target="N257" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="1116" yPos="267" ctrlXPos="1136" ctrlYPos="189"/>
                  <ControlPoint xPos="1141" yPos="286" ctrlXPos="1211" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[timeout(initial, ]]></String>
                  <Variable name="T"/>
                </Add>
                <String><![CDATA[).]]></String>
              </Add>
              </PrologQuery>
            </CEdge>
            <Graphics>
              <Position xPos="1066" yPos="266"/>
            </Graphics>
          </Node>
          <SuperNode id="S58" name="Agent;Is Still;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N48;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S175" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="826" yPos="466" ctrlXPos="741" ctrlYPos="466"/>
                  <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="430"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S181" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="826" yPos="477" ctrlXPos="759" ctrlYPos="495"/>
                  <ControlPoint xPos="637" yPos="506" ctrlXPos="655" ctrlYPos="439"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="826" yPos="426"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N46" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N48" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N48" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="266" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S167" name="User Has;Started;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N87;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S175" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="266" ctrlXPos="486" ctrlYPos="206"/>
                  <ControlPoint xPos="586" yPos="266" ctrlXPos="526" ctrlYPos="206"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N72" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="282" yPos="50"/>
              </Graphics>
            </Node>
            <Node id="N87" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N87" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="282" yPos="130"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S175" name="None Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N187;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S176" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="266" ctrlXPos="726" ctrlYPos="206"/>
                  <ControlPoint xPos="826" yPos="266" ctrlXPos="766" ctrlYPos="206"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S167" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="346" ctrlXPos="526" ctrlYPos="406"/>
                  <ControlPoint xPos="426" yPos="346" ctrlXPos="486" ctrlYPos="406"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N186" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="290" yPos="31"/>
              </Graphics>
            </Node>
            <Node id="N187" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N187" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="290" yPos="111"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S176" name="Agent Has;Started;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N189;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S175" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="826" yPos="346" ctrlXPos="766" ctrlYPos="406"/>
                  <ControlPoint xPos="666" yPos="346" ctrlXPos="726" ctrlYPos="406"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S58" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="866" yPos="346" ctrlXPos="866" ctrlYPos="334"/>
                  <ControlPoint xPos="866" yPos="426" ctrlXPos="867" ctrlYPos="398"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Variable name="Initial"/>
              </TimeoutCondition>
            </IEdge>
            <IEdge target="S177" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="855" yPos="266" ctrlXPos="831" ctrlYPos="181"/>
                  <ControlPoint xPos="666" yPos="146" ctrlXPos="750" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="826" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N188" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="252" yPos="61"/>
              </Graphics>
            </Node>
            <Node id="N189" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N189" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="252" yPos="141"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S177" name="Both Are;Initially;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N200;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N61" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="135" ctrlXPos="525" ctrlYPos="96"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="463" ctrlYPos="99"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <IEdge target="N62" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="135" ctrlXPos="723" ctrlYPos="89"/>
                  <ControlPoint xPos="827" yPos="136" ctrlXPos="798" ctrlYPos="105"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N197" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N200" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N200" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="266" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S181" name="Both Are;Internally;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N223;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N66" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="637" yPos="586" ctrlXPos="655" ctrlYPos="652"/>
                  <ControlPoint xPos="826" yPos="626" ctrlXPos="759" ctrlYPos="626"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="N202" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="546" ctrlXPos="519" ctrlYPos="546"/>
                  <ControlPoint xPos="386" yPos="506" ctrlXPos="386" ctrlYPos="572"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="506"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N222" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N223" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N223" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="266" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S6" name="Feedback;Eliciting;Cue;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S55;S54;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="506" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N4" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S54" name="Backchannel;Eliciting;Signal;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S15;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="S54" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="397" yPos="106" ctrlXPos="419" ctrlYPos="26"/>
              <ControlPoint xPos="426" yPos="135" ctrlXPos="506" ctrlYPos="113"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N196" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="986" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N185" name="Back-;Channel;Eliciting;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user,elicit,back).]]></String>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="826" yPos="106"/>
            </Graphics>
          </Node>
          <SuperNode id="S15" name="Await User;Claiming;The Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="N199;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S47" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="106" ctrlXPos="446" ctrlYPos="86"/>
                  <ControlPoint xPos="506" yPos="106" ctrlXPos="486" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              <Variable name="UserClaimingTurn"/>
            </IEdge>
            <IEdge target="S15" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="346" yPos="123" ctrlXPos="266" ctrlYPos="77"/>
                  <ControlPoint xPos="386" yPos="106" ctrlXPos="386" ctrlYPos="26"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(user, glance, agent).]]></String>
              </PrologQuery>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N198" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N199" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N199" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="476" yPos="107" ctrlXPos="496" ctrlYPos="29"/>
                  <ControlPoint xPos="501" yPos="126" ctrlXPos="571" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="426" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S47" name="Await Short;Glance Of;Facial Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="N214;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S15" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="206"/>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="206"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserClaimingTurn"/>
              </Not>
            </IEdge>
            <IEdge target="N185" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
                  <ControlPoint xPos="826" yPos="146" ctrlXPos="726" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(user, glance, agent).]]></String>
              </PrologQuery>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N213" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N214" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N214" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="476" yPos="107" ctrlXPos="496" ctrlYPos="29"/>
                  <ControlPoint xPos="501" yPos="126" ctrlXPos="571" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="426" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S55" name="Mirroring;Eliciting;Signal;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S67;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="Emotion">
              <String><![CDATA[]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="S55" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="557" yPos="106" ctrlXPos="579" ctrlYPos="26"/>
              <ControlPoint xPos="586" yPos="135" ctrlXPos="666" ctrlYPos="113"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="485" yPos="175"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N7" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="746" yPos="266"/>
            </Graphics>
          </Node>
          <SuperNode id="S66" name="User Is;Claiming;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="S70;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S67" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="346" ctrlXPos="567" ctrlYPos="366"/>
                  <ControlPoint xPos="506" yPos="346" ctrlXPos="527" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserClaimingTurn"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="13" yPos="13"/>
            </GlobalVariableBadge>
            <Node id="N183" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="346"/>
              </Graphics>
            </Node>
            <Node id="N256" name="Mirroring;Eliciting;Detected" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <Add>
                  <Add>
                    <String><![CDATA[signal(user,mimic,]]></String>
                    <Variable name="Emotion"/>
                  </Add>
                  <String><![CDATA[).]]></String>
                </Add>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="586" yPos="346"/>
              </Graphics>
            </Node>
            <SuperNode id="S70" name="User Is;Looking;Away From;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N220;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S81" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="506" yPos="215" ctrlXPos="526" ctrlYPos="209"/>
                    <ControlPoint xPos="586" yPos="215" ctrlXPos="566" ctrlYPos="209"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="UserGaze"/>
                  <String><![CDATA[agent]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S70" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="466" yPos="186" ctrlXPos="466" ctrlYPos="106"/>
                    <ControlPoint xPos="506" yPos="186" ctrlXPos="586" ctrlYPos="106"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user, face, Emotion).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="426" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N216" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="426" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N220" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N220" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="476" yPos="187" ctrlXPos="496" ctrlYPos="109"/>
                    <ControlPoint xPos="501" yPos="206" ctrlXPos="571" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="426" yPos="186"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S81" name="User Is;Looking At;The Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N236;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S70" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="566" ctrlYPos="226"/>
                    <ControlPoint xPos="506" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Neq>
                  <Variable name="UserGaze"/>
                  <String><![CDATA[agent]]></String>
                </Neq>
              </IEdge>
              <IEdge target="N256" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="286"/>
                    <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="326"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user, face, Emotion).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N235" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="426" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N236" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N236" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="476" yPos="107" ctrlXPos="496" ctrlYPos="29"/>
                    <ControlPoint xPos="501" yPos="126" ctrlXPos="571" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="426" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S67" name="Await User;Claiming;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="N195;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S66" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="266" ctrlXPos="527" ctrlYPos="246"/>
                  <ControlPoint xPos="586" yPos="266" ctrlXPos="567" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <Variable name="UserClaimingTurn"/>
            </IEdge>
            <Graphics>
              <Position xPos="426" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N194" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N195" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N195" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="476" yPos="187" ctrlXPos="496" ctrlYPos="109"/>
                  <ControlPoint xPos="501" yPos="206" ctrlXPos="571" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="426" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S12" name="Gaze;Connection;Event;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S76;S8;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="666" yPos="26"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="471" yPos="273"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N12" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S8" name="Gaze;Connection;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S11;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="UserShift">
              <String><![CDATA[]]></String>
            </Variable>
            <Variable type="String" name ="AgentShift">
              <String><![CDATA[]]></String>
            </Variable>
            <Variable type="String" name ="Connect">
              <String><![CDATA[3000]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="S8" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="557" yPos="106" ctrlXPos="579" ctrlYPos="26"/>
              <ControlPoint xPos="586" yPos="135" ctrlXPos="666" ctrlYPos="113"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="594" yPos="261"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N284" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="1066" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N285" name="Restart;Event;Detection" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="506" yPos="266"/>
            </Graphics>
          </Node>
          <Node id="N286" name="Compare;Gaze;Targets" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <CEdge target="N287" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="826" yPos="146" ctrlXPos="954" ctrlYPos="145"/>
                  <ControlPoint xPos="1026" yPos="266" ctrlXPos="1026" ctrlYPos="181"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="UserShift"/>
                <Variable name="AgentShift"/>
              </Eq>
            </CEdge>
            <CEdge target="N289" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="206"/>
                  <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <And>
                <Eq>
                  <Variable name="UserShift"/>
                  <String><![CDATA[agent]]></String>
                </Eq>
                <Eq>
                  <Variable name="AgentShift"/>
                  <String><![CDATA[user]]></String>
                </Eq>
              </And>
            </CEdge>
            <Graphics>
              <Position xPos="746" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N287" name="Shared;Directed;Gaze;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[signal(gaze, directed, ]]></String>
                  <Variable name="UserShift"/>
                </Add>
                <String><![CDATA[).]]></String>
              </Add>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="986" yPos="266"/>
            </Graphics>
          </Node>
          <Node id="N288" name="Compare;Gaze;Targets" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <CEdge target="N287" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="826" yPos="466" ctrlXPos="910" ctrlYPos="466"/>
                  <ControlPoint xPos="1026" yPos="346" ctrlXPos="1026" ctrlYPos="430"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="UserShift"/>
                <Variable name="AgentShift"/>
              </Eq>
            </CEdge>
            <CEdge target="N289" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="786" yPos="426" ctrlXPos="786" ctrlYPos="406"/>
                  <ControlPoint xPos="786" yPos="346" ctrlXPos="786" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <And>
                <Eq>
                  <Variable name="UserShift"/>
                  <String><![CDATA[agent]]></String>
                </Eq>
                <Eq>
                  <Variable name="AgentShift"/>
                  <String><![CDATA[user]]></String>
                </Eq>
              </And>
            </CEdge>
            <Graphics>
              <Position xPos="746" yPos="426"/>
            </Graphics>
          </Node>
          <Node id="N289" name="Mutual;Facial;Gaze;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(gaze, mutual).]]></String>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="746" yPos="266"/>
            </Graphics>
          </Node>
          <SuperNode id="S11" name="Await Next;Shift Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N291;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S72" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="212"/>
                  <ControlPoint xPos="506" yPos="146" ctrlXPos="425" ctrlYPos="162"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(user, shift, UserShift).]]></String>
              </PrologQuery>
            </IEdge>
            <IEdge target="S74" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="399"/>
                  <ControlPoint xPos="506" yPos="466" ctrlXPos="452" ctrlYPos="466"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(agent, shift, AgentShift).]]></String>
              </PrologQuery>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N290" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N291" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N291" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
                  <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S72" name="Await Agent;Shift Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N296;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N285" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="206"/>
                  <ControlPoint xPos="546" yPos="266" ctrlXPos="546" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Variable name="Connect"/>
              </TimeoutCondition>
            </IEdge>
            <IEdge target="S72" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="123" ctrlXPos="451" ctrlYPos="96"/>
                  <ControlPoint xPos="535" yPos="106" ctrlXPos="537" ctrlYPos="49"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(user, shift, UserShift).]]></String>
              </PrologQuery>
            </IEdge>
            <IEdge target="N286" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="146" ctrlXPos="646" ctrlYPos="146"/>
                  <ControlPoint xPos="746" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(agent, shift, AgentShift).]]></String>
              </PrologQuery>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N293" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N296" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N296" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S74" name="Await User;Shift Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N298;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N285" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="546" yPos="426" ctrlXPos="546" ctrlYPos="406"/>
                  <ControlPoint xPos="546" yPos="346" ctrlXPos="546" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Variable name="Connect"/>
              </TimeoutCondition>
            </IEdge>
            <IEdge target="S74" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="489" ctrlXPos="425" ctrlYPos="520"/>
                  <ControlPoint xPos="535" yPos="506" ctrlXPos="526" ctrlYPos="563"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(agent, shift, AgentShift).]]></String>
              </PrologQuery>
            </IEdge>
            <IEdge target="N288" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="466" ctrlXPos="646" ctrlYPos="466"/>
                  <ControlPoint xPos="746" yPos="466" ctrlXPos="686" ctrlYPos="466"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(user, shift, UserShift).]]></String>
              </PrologQuery>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="426"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N297" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N298" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N298" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S76" name="Gaze;Direction;Relations" comment="" hideLocalVar="false" hideGlobalVar="false" start="S77;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="S76" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="397" yPos="106" ctrlXPos="419" ctrlYPos="26"/>
              <ControlPoint xPos="426" yPos="135" ctrlXPos="506" ctrlYPos="113"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N299" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="746" yPos="106"/>
            </Graphics>
          </Node>
          <SuperNode id="S77" name="No;Shared;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="S82;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="SharedGaze"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S89" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="106" ctrlXPos="489" ctrlYPos="75"/>
                  <ControlPoint xPos="586" yPos="106" ctrlXPos="526" ctrlYPos="75"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="UserGaze"/>
                <Variable name="AgentGaze"/>
              </Eq>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N259" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="106"/>
              </Graphics>
            </Node>
            <SuperNode id="S82" name="No;Mutual;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="N267;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="MutualGaze"/>
                  <Expression>
                    <Bool value="false"/>
                  </Expression>
                </Assign>
              </Commands>
              <IEdge target="S88" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="426" yPos="106" ctrlXPos="486" ctrlYPos="71"/>
                    <ControlPoint xPos="586" yPos="106" ctrlXPos="532" ctrlYPos="79"/>
                  </Connection>
                </Graphics>
                <And>
                  <Eq>
                    <Variable name="UserGaze"/>
                    <String><![CDATA[agent]]></String>
                  </Eq>
                  <Eq>
                    <Variable name="AgentGaze"/>
                    <String><![CDATA[user]]></String>
                  </Eq>
                </And>
              </IEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N265" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N267" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N267" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S88" name="Mutual;Gaze;Detected" comment="" hideLocalVar="false" hideGlobalVar="false" start="N270;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="MutualGaze"/>
                  <Expression>
                    <Bool value="true"/>
                  </Expression>
                </Assign>
              </Commands>
              <IEdge target="S82" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="186" ctrlXPos="528" ctrlYPos="222"/>
                    <ControlPoint xPos="426" yPos="186" ctrlXPos="484" ctrlYPos="239"/>
                  </Connection>
                </Graphics>
                <Or>
                  <Neq>
                    <Variable name="UserGaze"/>
                    <String><![CDATA[agent]]></String>
                  </Neq>
                  <Neq>
                    <Variable name="AgentGaze"/>
                    <String><![CDATA[user]]></String>
                  </Neq>
                </Or>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N268" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N270" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N270" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S89" name="Shared;Gaze;Detected" comment="" hideLocalVar="false" hideGlobalVar="false" start="N282;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="SharedGaze"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S77" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="169" ctrlXPos="521" ctrlYPos="190"/>
                  <ControlPoint xPos="426" yPos="169" ctrlXPos="482" ctrlYPos="192"/>
                </Connection>
              </Graphics>
              <Neq>
                <Variable name="UserGaze"/>
                <Variable name="AgentGaze"/>
              </Neq>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N272" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N282" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N282" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S1" name="Turn-Taking;Action;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S24;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Take">
            <String><![CDATA[500]]></String>
          </Variable>
          <Variable type="String" name ="Hold">
            <String><![CDATA[750]]></String>
          </Variable>
          <Variable type="String" name ="Yield">
            <String><![CDATA[2000]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="26"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="560" yPos="163"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="64" yPos="14"/>
        </GlobalVariableBadge>
        <Node id="N23" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N97" name="User;Takes;Turn" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(user, turn, take).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="N20" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="66" ctrlXPos="446" ctrlYPos="66"/>
              <ControlPoint xPos="506" yPos="66" ctrlXPos="486" ctrlYPos="66"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N98" name="User;Holds;Turn" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(user, turn, hold).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S2" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="906" yPos="66" ctrlXPos="846" ctrlYPos="66"/>
              <ControlPoint xPos="746" yPos="66" ctrlXPos="806" ctrlYPos="66"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="906" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N101" name="User; Yields;Turn" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(user, turn, yield), stop(yield).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="N5" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="667" yPos="236" ctrlXPos="615" ctrlYPos="249"/>
              <ControlPoint xPos="556" yPos="347" ctrlXPos="569" ctrlYPos="295"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="666" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N102" name="User;Assigns;Turn" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(user, turn, assign).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="N5" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="666" yPos="386" ctrlXPos="646" ctrlYPos="386"/>
              <ControlPoint xPos="586" yPos="386" ctrlXPos="606" ctrlYPos="386"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="666" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N5" name="User Not;Claiming;Turn" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserClaimingTurn"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="S24" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="386" ctrlXPos="486" ctrlYPos="386"/>
              <ControlPoint xPos="426" yPos="386" ctrlXPos="446" ctrlYPos="386"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N20" name="User Is;Claiming;Turn" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserClaimingTurn"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="S2" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="586" yPos="66" ctrlXPos="606" ctrlYPos="66"/>
              <ControlPoint xPos="666" yPos="66" ctrlXPos="646" ctrlYPos="66"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S2" name="User Is;Active" comment="" hideLocalVar="false" hideGlobalVar="false" start="N41;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S31" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="106" ctrlXPos="772" ctrlYPos="144"/>
                <ControlPoint xPos="906" yPos="215" ctrlXPos="827" ctrlYPos="216"/>
              </Connection>
            </Graphics>
            <And>
              <Not>
                <Variable name="UserSpeaking"/>
              </Not>
              <Not>
                <Variable name="UserDragging"/>
              </Not>
            </And>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N27" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N41" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N41" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S24" name="User Is Not; Active" comment="" hideLocalVar="false" hideGlobalVar="false" start="N88;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S44" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="326"/>
                <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            <Or>
              <Variable name="UserSpeaking"/>
              <Variable name="UserDragging"/>
            </Or>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N56" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N88" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N88" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S31" name="User;Stopped;Activity" comment="" hideLocalVar="false" hideGlobalVar="false" start="N82;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S41" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="946" yPos="266" ctrlXPos="946" ctrlYPos="286"/>
                <ControlPoint xPos="946" yPos="346" ctrlXPos="946" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Variable name="Hold"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="N98" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="946" yPos="186" ctrlXPos="945" ctrlYPos="216"/>
                <ControlPoint xPos="946" yPos="106" ctrlXPos="946" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <Or>
              <Variable name="UserSpeaking"/>
              <Variable name="UserDragging"/>
            </Or>
          </IEdge>
          <Graphics>
            <Position xPos="906" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N81" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N82" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N82" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S41" name="User Is Not; Active" comment="" hideLocalVar="false" hideGlobalVar="false" start="N94;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N98" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="986" yPos="375" ctrlXPos="997" ctrlYPos="349"/>
                <ControlPoint xPos="966" yPos="101" ctrlXPos="1029" ctrlYPos="241"/>
              </Connection>
            </Graphics>
            <Or>
              <Variable name="UserSpeaking"/>
              <Variable name="UserDragging"/>
            </Or>
          </IEdge>
          <IEdge target="N101" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="363" ctrlXPos="809" ctrlYPos="263"/>
                <ControlPoint xPos="746" yPos="226" ctrlXPos="830" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Variable name="Yield"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="N102" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="386" ctrlXPos="846" ctrlYPos="386"/>
                <ControlPoint xPos="746" yPos="386" ctrlXPos="806" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="UserGaze"/>
              <String><![CDATA[agent]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="906" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N90" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N94" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N94" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S44" name="User;Started;Activity" comment="" hideLocalVar="false" hideGlobalVar="false" start="N96;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S24" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="226" ctrlXPos="493" ctrlYPos="249"/>
                <ControlPoint xPos="426" yPos="363" ctrlXPos="534" ctrlYPos="303"/>
              </Connection>
            </Graphics>
            <And>
              <Not>
                <Variable name="UserSpeaking"/>
              </Not>
              <Not>
                <Variable name="UserDragging"/>
              </Not>
            </And>
          </IEdge>
          <IEdge target="N97" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="166"/>
                <ControlPoint xPos="386" yPos="106" ctrlXPos="386" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Variable name="Take"/>
            </TimeoutCondition>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N95" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N96" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N96" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S7" name="Feedback;And;Response;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S5;S38;S19;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N260" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S19" name="Verbal;Back-;Channel;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S37;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="BackChannel">
              <String><![CDATA[350]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="S19" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="489" yPos="186" ctrlXPos="504" ctrlYPos="138"/>
              <ControlPoint xPos="506" yPos="203" ctrlXPos="553" ctrlYPos="189"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="426" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="711" yPos="102"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N6" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="746" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N182" name="Back-;Channel;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user, back, verbal).]]></String>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="906" yPos="106"/>
            </Graphics>
          </Node>
          <SuperNode id="S34" name="Voice;Overlap;Continued" comment="" hideLocalVar="false" hideGlobalVar="false" start="N30;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S37" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="206"/>
                  <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverAgent"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N28" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N30" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N30" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S36" name="Voice;Overlap;Started" comment="" hideLocalVar="false" hideGlobalVar="false" start="N63;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S34" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="906" yPos="266" ctrlXPos="787" ctrlYPos="147"/>
                  <ControlPoint xPos="666" yPos="146" ctrlXPos="784" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Variable name="BackChannel"/>
              </TimeoutCondition>
            </IEdge>
            <IEdge target="N182" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="946" yPos="266" ctrlXPos="946" ctrlYPos="246"/>
                  <ControlPoint xPos="946" yPos="186" ctrlXPos="946" ctrlYPos="206"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverAgent"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="906" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N32" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N63" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N63" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="26" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S37" name="Await;Voice;Overlap" comment="" hideLocalVar="false" hideGlobalVar="false" start="N108;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S36" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="306" ctrlXPos="766" ctrlYPos="306"/>
                  <ControlPoint xPos="906" yPos="306" ctrlXPos="806" ctrlYPos="306"/>
                </Connection>
              </Graphics>
              <Variable name="UserOverAgent"/>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N64" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N108" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N108" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="26" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S38" name="Non-Verbal;Back-;Channel;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S43;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="S38" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="649" yPos="186" ctrlXPos="659" ctrlYPos="140"/>
              <ControlPoint xPos="666" yPos="203" ctrlXPos="713" ctrlYPos="187"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N89" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="666" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N117" name="Positive;Feedback;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Play>
                <String><![CDATA[signal(user,back,positive).]]></String>
              </Play>
            </Commands>
            <Graphics>
              <Position xPos="506" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N119" name="Negative;Feedback;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Play>
                <String><![CDATA[signal(user,back,negative).]]></String>
              </Play>
            </Commands>
            <Graphics>
              <Position xPos="826" yPos="186"/>
            </Graphics>
          </Node>
          <SuperNode id="S43" name="Agent;Is;Silent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N116;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S45" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
                  <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <Variable name="AgentSpeaking"/>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N109" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N116" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N116" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S45" name="Agent;Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N166;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S43" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
                  <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="AgentSpeaking"/>
              </Not>
            </IEdge>
            <IEdge target="N117" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="166"/>
                  <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="126"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(user, head, nod).]]></String>
              </PrologQuery>
            </IEdge>
            <IEdge target="N119" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="226" ctrlXPos="686" ctrlYPos="226"/>
                  <ControlPoint xPos="826" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(user, head, shake).]]></String>
              </PrologQuery>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N118" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N166" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N166" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S5" name="Adjacency;Pair And;Response;Detection" comment="" hideLocalVar="false" hideGlobalVar="false" start="S13;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="Response">
              <String><![CDATA[3000]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="S5" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="809" yPos="186" ctrlXPos="816" ctrlYPos="137"/>
              <ControlPoint xPos="826" yPos="203" ctrlXPos="878" ctrlYPos="184"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="746" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="762" yPos="170"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N184" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="826" yPos="346"/>
            </Graphics>
          </Node>
          <Node id="N303" name="Reset;Event;Detection" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="986" yPos="266"/>
            </Graphics>
          </Node>
          <Node id="N310" name="User;Response;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user, response).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S79" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="587" yPos="396" ctrlXPos="558" ctrlYPos="403"/>
                <ControlPoint xPos="506" yPos="426" ctrlXPos="535" ctrlYPos="396"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="586" yPos="346"/>
            </Graphics>
          </Node>
          <Node id="N311" name="Agent;Response;Detected" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(agent, response).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S80" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="587" yPos="216" ctrlXPos="558" ctrlYPos="208"/>
                <ControlPoint xPos="506" yPos="186" ctrlXPos="535" ctrlYPos="215"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="586" yPos="186"/>
            </Graphics>
          </Node>
          <SuperNode id="S13" name="Both Are;Silent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N292;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S80" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="466" yPos="266" ctrlXPos="466" ctrlYPos="246"/>
                  <ControlPoint xPos="466" yPos="186" ctrlXPos="466" ctrlYPos="206"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S79" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="466" yPos="346" ctrlXPos="466" ctrlYPos="366"/>
                  <ControlPoint xPos="466" yPos="426" ctrlXPos="466" ctrlYPos="406"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="426" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N271" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="370" yPos="37"/>
              </Graphics>
            </Node>
            <Node id="N292" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N292" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="370" yPos="117"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S79" name="User;Started;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N306;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S80" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="466" ctrlXPos="300" ctrlYPos="470"/>
                  <ControlPoint xPos="426" yPos="146" ctrlXPos="302" ctrlYPos="144"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S90" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="466" ctrlXPos="726" ctrlYPos="466"/>
                  <ControlPoint xPos="986" yPos="466" ctrlXPos="766" ctrlYPos="466"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="426" yPos="426"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N305" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="357" yPos="43"/>
              </Graphics>
            </Node>
            <Node id="N306" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N306" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="357" yPos="123"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S80" name="Agent;Started;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N308;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S79" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="169" ctrlXPos="338" ctrlYPos="176"/>
                  <ControlPoint xPos="426" yPos="443" ctrlXPos="332" ctrlYPos="439"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <IEdge target="S53" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="146" ctrlXPos="726" ctrlYPos="146"/>
                  <ControlPoint xPos="986" yPos="146" ctrlXPos="766" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="426" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N307" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="343" yPos="50"/>
              </Graphics>
            </Node>
            <Node id="N308" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N308" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="343" yPos="130"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S90" name="Await;Agent;Response" comment="" hideLocalVar="false" hideGlobalVar="false" start="N309;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N303" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="1026" yPos="426" ctrlXPos="1026" ctrlYPos="406"/>
                  <ControlPoint xPos="1026" yPos="346" ctrlXPos="1026" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Variable name="Response"/>
              </TimeoutCondition>
            </IEdge>
            <IEdge target="N311" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="986" yPos="426" ctrlXPos="812" ctrlYPos="252"/>
                  <ControlPoint xPos="666" yPos="226" ctrlXPos="839" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="986" yPos="426"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N261" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N309" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N309" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
                  <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S53" name="Await;User;Response" comment="" hideLocalVar="false" hideGlobalVar="false" start="N304;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="N303" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="1026" yPos="186" ctrlXPos="1026" ctrlYPos="206"/>
                  <ControlPoint xPos="1026" yPos="266" ctrlXPos="1026" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Variable name="Response"/>
              </TimeoutCondition>
            </IEdge>
            <IEdge target="N310" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="986" yPos="186" ctrlXPos="812" ctrlYPos="359"/>
                  <ControlPoint xPos="666" yPos="386" ctrlXPos="839" ctrlYPos="386"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="986" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N262" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N304" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N304" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S20" name="Participant;Role;Assignment" comment="" hideLocalVar="false" hideGlobalVar="false" start="S22;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="506" yPos="26"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N1" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="826" yPos="106"/>
        </Graphics>
      </Node>
      <SuperNode id="S22" name="No;Interaction;Between; User And" comment="" hideLocalVar="false" hideGlobalVar="false" start="N52;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Assign>
            <Variable name="UserRole"/>
            <Expression>
              <String><![CDATA[overhearer]]></String>
            </Expression>
          </Assign>
          <Assign>
            <Variable name="AgentRole"/>
            <Expression>
              <String><![CDATA[overhearer]]></String>
            </Expression>
          </Assign>
        </Commands>
        <IEdge target="S27" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="106" ctrlXPos="548" ctrlYPos="78"/>
              <ControlPoint xPos="666" yPos="106" ctrlXPos="632" ctrlYPos="78"/>
            </Connection>
          </Graphics>
          <And>
            <Variable name="UserPresent"/>
            <Variable name="AgentPresent"/>
          </And>
        </IEdge>
        <Graphics>
          <Position xPos="426" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N29" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N52" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N52" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
              <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S27" name="Interaction;Between;Agent;And User" comment="" hideLocalVar="false" hideGlobalVar="false" start="S28;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Transition">
            <String><![CDATA[3000]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S22" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="666" yPos="146" ctrlXPos="606" ctrlYPos="146"/>
              <ControlPoint xPos="506" yPos="146" ctrlXPos="566" ctrlYPos="146"/>
            </Connection>
          </Graphics>
          <Or>
            <Not>
              <Variable name="UserPresent"/>
            </Not>
            <Not>
              <Variable name="AgentPresent"/>
            </Not>
          </Or>
        </IEdge>
        <Graphics>
          <Position xPos="666" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="609" yPos="169"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N51" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="346"/>
          </Graphics>
        </Node>
        <SuperNode id="S28" name="Both Are;In The;Bystander;Role" comment="" hideLocalVar="false" hideGlobalVar="false" start="S59;S51;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserRole"/>
              <Expression>
                <String><![CDATA[bystander]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentRole"/>
              <Expression>
                <String><![CDATA[bystander]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="295" ctrlXPos="846" ctrlYPos="267"/>
                <ControlPoint xPos="986" yPos="295" ctrlXPos="886" ctrlYPos="267"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(user, role, occupy).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="295" ctrlXPos="566" ctrlYPos="267"/>
                <ControlPoint xPos="426" yPos="295" ctrlXPos="526" ctrlYPos="267"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(agent, role, occupy).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N53" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S59" name="Handle;User Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S63;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S59" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="106"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="506" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N8" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N129" name="Check;Signal;Name" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N130" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[take]]></String>
                </Eq>
              </CEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N130" name="User;Occupies;Floor" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, occupy).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
            </Node>
            <SuperNode id="S63" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N141;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="N129" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N15" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N141" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N141" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S51" name="Agent;Dialog;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S258;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S51" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="106"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="666" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N125" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N122" name="Check;Signal;Name" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N127" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[request]]></String>
                </Eq>
              </CEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N127" name="Agent;Occupies;Floor" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, accepted).]]></String>
                </PrologQuery>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, occupy).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
            </Node>
            <SuperNode id="S258" name="Await;Dialog;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N143;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="N122" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N136" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N143" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N143" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S29" name="Agent Has;Speaker;Role" comment="" hideLocalVar="false" hideGlobalVar="false" start="S104;S292;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserRole"/>
              <Expression>
                <String><![CDATA[addressee]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentRole"/>
              <Expression>
                <String><![CDATA[speaker]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[nothing]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[nothing]]></String>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="317" ctrlXPos="526" ctrlYPos="344"/>
                <ControlPoint xPos="666" yPos="317" ctrlXPos="566" ctrlYPos="344"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(agent, role, release).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S35" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="346" ctrlXPos="463" ctrlYPos="436"/>
                <ControlPoint xPos="586" yPos="506" ctrlXPos="486" ctrlYPos="458"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(agent, role, offer).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="283" ctrlXPos="672" ctrlYPos="234"/>
                <ControlPoint xPos="986" yPos="283" ctrlXPos="738" ctrlYPos="230"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(user, role, conquer).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="375" yPos="266" ctrlXPos="380" ctrlYPos="211"/>
                <ControlPoint xPos="346" yPos="283" ctrlXPos="304" ctrlYPos="255"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(agent, role, claim).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N69" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S104" name="Handle;Agent;Dialog;Signas" comment="" hideLocalVar="false" hideGlobalVar="false" start="S288;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S104" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="106"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="666" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="759" yPos="185"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N349" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N39" name="Check;Signal;Name" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N317" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="286"/>
                    <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="326"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[release]]></String>
                </Eq>
              </CEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N317" name="Agent;Offers;Floor" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, offer).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="586" yPos="346"/>
              </Graphics>
            </Node>
            <SuperNode id="S288" name="Await;Agent;Dialog;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N363;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="N39" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N357" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N363" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N363" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S292" name="Handle;User Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S294;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S292" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="106"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="506" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="732" yPos="468"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N367" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="651" yPos="57"/>
              </Graphics>
            </Node>
            <Node id="N84" name="Check;Signal;Name" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N85" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="414" yPos="198" ctrlXPos="451" ctrlYPos="160"/>
                    <ControlPoint xPos="518" yPos="94" ctrlXPos="480" ctrlYPos="131"/>
                  </Connection>
                </Graphics>
                <Or>
                  <Eq>
                    <Variable name="Name"/>
                    <String><![CDATA[yield]]></String>
                  </Eq>
                  <Eq>
                    <Variable name="Name"/>
                    <String><![CDATA[assign]]></String>
                  </Eq>
                </Or>
              </CEdge>
              <CEdge target="N315" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="286"/>
                    <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="326"/>
                  </Connection>
                </Graphics>
                <Or>
                  <Eq>
                    <Variable name="Name"/>
                    <String><![CDATA[bargein]]></String>
                  </Eq>
                  <Eq>
                    <Variable name="Name"/>
                    <String><![CDATA[bearup]]></String>
                  </Eq>
                </Or>
              </CEdge>
              <CEdge target="N316" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="425" yPos="216" ctrlXPos="576" ctrlYPos="177"/>
                    <ControlPoint xPos="746" yPos="66" ctrlXPos="590" ctrlYPos="66"/>
                  </Connection>
                </Graphics>
                <Or>
                  <Eq>
                    <Variable name="Name"/>
                    <String><![CDATA[take]]></String>
                  </Eq>
                  <Eq>
                    <Variable name="Name"/>
                    <String><![CDATA[hold]]></String>
                  </Eq>
                </Or>
              </CEdge>
              <Graphics>
                <Position xPos="331" yPos="217"/>
              </Graphics>
            </Node>
            <Node id="N85" name="User;Releases;Floor" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, release).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="491" yPos="57"/>
              </Graphics>
            </Node>
            <Node id="N92" name="Interrupt;Agent;Turn" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, interrupted).]]></String>
                </PrologQuery>
              </Commands>
              <EEdge target="N123" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="386" ctrlXPos="686" ctrlYPos="386"/>
                  <ControlPoint xPos="746" yPos="386" ctrlXPos="726" ctrlYPos="386"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="571" yPos="377"/>
              </Graphics>
            </Node>
            <Node id="N123" name="User;Conquers;Turn" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, conquer).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="731" yPos="377"/>
              </Graphics>
            </Node>
            <Node id="N181" name="Interject;Agent;Turn" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, interjected).]]></String>
                </PrologQuery>
              </Commands>
              <EEdge target="N123" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="286"/>
                  <ControlPoint xPos="786" yPos="346" ctrlXPos="786" ctrlYPos="326"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="731" yPos="217"/>
              </Graphics>
            </Node>
            <Node id="N115" name="User;Occupies;Floor" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, occupy).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="491" yPos="217"/>
              </Graphics>
            </Node>
            <Node id="N315" name="Check;Interrupt;Policy" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N92" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="426" yPos="386" ctrlXPos="486" ctrlYPos="386"/>
                    <ControlPoint xPos="586" yPos="386" ctrlXPos="526" ctrlYPos="386"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="AgentInterruptible"/>
                  <Bool value="true"/>
                </Eq>
              </CEdge>
              <Graphics>
                <Position xPos="331" yPos="377"/>
              </Graphics>
            </Node>
            <Node id="N316" name="Check;Interrupt;Policy" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N115" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="766" yPos="101" ctrlXPos="723" ctrlYPos="174"/>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="670" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Not>
                  <Variable name="AgentInterjectable"/>
                </Not>
              </CEdge>
              <CEdge target="N181" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="786" yPos="106" ctrlXPos="786" ctrlYPos="126"/>
                    <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="AgentInterjectable"/>
                  <Bool value="true"/>
                </Eq>
              </CEdge>
              <Graphics>
                <Position xPos="731" yPos="57"/>
              </Graphics>
            </Node>
            <SuperNode id="S294" name="Await;User Turn;Taking;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N370;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="N84" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="386" yPos="106" ctrlXPos="386" ctrlYPos="126"/>
                    <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="331" yPos="57"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N369" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N370" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N370" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S32" name="Agent Has;Addressee;Role" comment="" hideLocalVar="false" hideGlobalVar="false" start="S97;S267;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserRole"/>
              <Expression>
                <String><![CDATA[speaker]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentRole"/>
              <Expression>
                <String><![CDATA[addressee]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[nothing]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[nothing]]></String>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="986" yPos="317" ctrlXPos="886" ctrlYPos="344"/>
                <ControlPoint xPos="746" yPos="317" ctrlXPos="846" ctrlYPos="344"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(user, role, release).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S61" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="986" yPos="346" ctrlXPos="932" ctrlYPos="403"/>
                <ControlPoint xPos="826" yPos="506" ctrlXPos="935" ctrlYPos="396"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(user, role, offer).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="1049" yPos="266" ctrlXPos="1051" ctrlYPos="197"/>
                <ControlPoint xPos="1066" yPos="283" ctrlXPos="1122" ctrlYPos="263"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(user, role, claim).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="986" yPos="266" ctrlXPos="792" ctrlYPos="208"/>
                <ControlPoint xPos="426" yPos="266" ctrlXPos="611" ctrlYPos="197"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(agent, role, conquer).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="986" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N107" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="666" yPos="186"/>
            </Graphics>
          </Node>
          <SuperNode id="S97" name="Handle;Agent;Dialog;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S263;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S97" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="569" yPos="186" ctrlXPos="583" ctrlYPos="150"/>
                <ControlPoint xPos="586" yPos="203" ctrlXPos="623" ctrlYPos="191"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="450" yPos="122"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N147" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="266"/>
              </Graphics>
            </Node>
            <Node id="N40" name="Check;Signal;Name" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N47" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="426" yPos="306" ctrlXPos="486" ctrlYPos="306"/>
                    <ControlPoint xPos="586" yPos="306" ctrlXPos="526" ctrlYPos="306"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[request]]></String>
                </Eq>
              </CEdge>
              <Graphics>
                <Position xPos="346" yPos="266"/>
              </Graphics>
            </Node>
            <Node id="N47" name="Check;Interrupt;Policy" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N65" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="246"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="206"/>
                  </Connection>
                </Graphics>
                <Not>
                  <Variable name="UserInterruptible"/>
                </Not>
              </CEdge>
              <CEdge target="N54" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="366"/>
                    <ControlPoint xPos="626" yPos="426" ctrlXPos="626" ctrlYPos="406"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="UserInterruptible"/>
                  <Bool value="true"/>
                </Eq>
              </CEdge>
              <Graphics>
                <Position xPos="586" yPos="266"/>
              </Graphics>
            </Node>
            <Node id="N54" name="Agent;Request;Accepted" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, accepted).]]></String>
                </PrologQuery>
              </Commands>
              <EEdge target="N83" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="466" ctrlXPos="526" ctrlYPos="466"/>
                  <ControlPoint xPos="426" yPos="466" ctrlXPos="486" ctrlYPos="466"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="586" yPos="426"/>
              </Graphics>
            </Node>
            <Node id="N65" name="Agent;Request;Rejected" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, rejected).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="586" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N83" name="Agent;Conquers;Floor" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, conquer).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="426"/>
              </Graphics>
            </Node>
            <SuperNode id="S263" name="Await;Agent;Dialog;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N151;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="N40" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="206"/>
                    <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="246"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N149" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N151" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N151" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S267" name="Handle;User Turn;Regulation;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S269;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S267" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="409" yPos="186" ctrlXPos="414" ctrlYPos="158"/>
                <ControlPoint xPos="426" yPos="203" ctrlXPos="463" ctrlYPos="183"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="940" yPos="269"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N155" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="986" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N301" name="Ignore;User;Turn-Take;Signal" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N302" name="User; Claims The;Speaker;Floor" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, claim).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N312" name="User;Releases;Speaker;Floor" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, release).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="346"/>
              </Graphics>
            </Node>
            <Node id="N313" name="User;Offers The;Speaker;Floor" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, offer).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="506" yPos="346"/>
              </Graphics>
            </Node>
            <Node id="N314" name="Check;Signal;Name" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N313" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="546" yPos="266" ctrlXPos="546" ctrlYPos="286"/>
                    <ControlPoint xPos="546" yPos="346" ctrlXPos="546" ctrlYPos="326"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[assign]]></String>
                </Eq>
              </CEdge>
              <CEdge target="N301" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="581" yPos="206" ctrlXPos="654" ctrlYPos="163"/>
                    <ControlPoint xPos="751" yPos="86" ctrlXPos="677" ctrlYPos="128"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[take]]></String>
                </Eq>
              </CEdge>
              <CEdge target="N302" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="646" ctrlYPos="226"/>
                    <ControlPoint xPos="746" yPos="226" ctrlXPos="686" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[hold]]></String>
                </Eq>
              </CEdge>
              <CEdge target="N312" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="581" yPos="246" ctrlXPos="654" ctrlYPos="288"/>
                    <ControlPoint xPos="751" yPos="366" ctrlXPos="677" ctrlYPos="323"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[yield]]></String>
                </Eq>
              </CEdge>
              <Graphics>
                <Position xPos="506" yPos="186"/>
              </Graphics>
            </Node>
            <SuperNode id="S269" name="Await;Turn;Taking;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N158;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="N314" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="126"/>
                    <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="506" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N157" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N158" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N158" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S35" name="Agent Is;Offering;Speaker;Floor" comment="" hideLocalVar="false" hideGlobalVar="false" start="S305;S189;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[offering]]></String>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="569" ctrlXPos="839" ctrlYPos="668"/>
                <ControlPoint xPos="1037" yPos="346" ctrlXPos="1084" ctrlYPos="519"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(user, role, accept).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="506" ctrlXPos="709" ctrlYPos="435"/>
                <ControlPoint xPos="666" yPos="346" ctrlXPos="610" ctrlYPos="399"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Variable name="Transition"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="546" ctrlXPos="476" ctrlYPos="546"/>
                <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="455"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(agent, role, reclaim)]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="626" yPos="586" ctrlXPos="736" ctrlYPos="680"/>
                <ControlPoint xPos="1066" yPos="346" ctrlXPos="1109" ctrlYPos="641"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(user, role, occupy).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N110" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S189" name="Handle;User Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S300;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S189" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="106"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="506" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N375" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S299" name="Yield;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N376" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S300" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N378;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S301" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N377" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N378" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N378" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S301" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S302" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[take]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S303" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="266" ctrlXPos="532" ctrlYPos="319"/>
                    <ControlPoint xPos="506" yPos="346" ctrlXPos="559" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[hold]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S299" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="266" ctrlXPos="719" ctrlYPos="319"/>
                    <ControlPoint xPos="746" yPos="346" ctrlXPos="692" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[yield]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S304" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[assign]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N379" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S302" name="Take;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, accept).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N380" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S303" name="Hold;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, accept).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N381" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S304" name="Assign;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N382" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S305" name="Agent;Dialog;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S307;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S305" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="106"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="666" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N383" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S306" name="Release;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N384" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S307" name="Agent;Dialog;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="N386;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S308" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N385" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N386" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N386" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S308" name="Check;Signal;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S306" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[release]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S9" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="519" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="492" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[request]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N387" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S9" name="Request;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, accepted).]]></String>
                </PrologQuery>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, reclaim).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N9" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S61" name="Agent Is;Being;Offered;Floor" comment="" hideLocalVar="false" hideGlobalVar="false" start="S274;S282;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[offering]]></String>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="569" ctrlXPos="572" ctrlYPos="668"/>
                <ControlPoint xPos="363" yPos="346" ctrlXPos="327" ctrlYPos="519"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(agent, role, accept).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="826" yPos="546" ctrlXPos="935" ctrlYPos="546"/>
                <ControlPoint xPos="1015" yPos="346" ctrlXPos="984" ctrlYPos="455"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(user, role, reclaim).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="506" ctrlXPos="687" ctrlYPos="442"/>
                <ControlPoint xPos="746" yPos="346" ctrlXPos="849" ctrlYPos="423"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Variable name="Transition"/>
            </TimeoutCondition>
          </IEdge>
          <Graphics>
            <Position xPos="746" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N111" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S274" name="Handle;User Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S277;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S274" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="106"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="506" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N173" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S276" name="Yield;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N174" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S277" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N250;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S278" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N224" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N250" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N250" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S278" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S279" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[take]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S280" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="266" ctrlXPos="532" ctrlYPos="319"/>
                    <ControlPoint xPos="506" yPos="346" ctrlXPos="559" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[hold]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S276" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="266" ctrlXPos="719" ctrlYPos="319"/>
                    <ControlPoint xPos="746" yPos="346" ctrlXPos="692" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[yield]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S281" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[assign]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N251" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S279" name="Take;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, reclaim).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N252" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S280" name="Hold;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N253" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S281" name="Assign;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N254" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S282" name="Agent;Dialog;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S284;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S282" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="106"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="666" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N266" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S283" name="Release;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N273" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S284" name="Agent;Dialog;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="N275;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S285" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N274" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N275" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N275" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S285" name="Check;Signal;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S286" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[request]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S283" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[release]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N283" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S286" name="Request;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, accepted).]]></String>
                </PrologQuery>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, accept).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N334" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S40" name="Input;Event;Handling" comment="" hideLocalVar="false" hideGlobalVar="false" start="S139;S128;S118;S138;S127;S25;S14;S141;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="506" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N179" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="906" yPos="186"/>
        </Graphics>
      </Node>
      <SuperNode id="S118" name="Voice Event;Handling;Process" comment="" hideLocalVar="false" hideGlobalVar="false" start="S18;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Name">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="Data">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard refresh]]]></String>
          </Play>
        </Commands>
        <EEdge target="S118" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="317" yPos="266" ctrlXPos="325" ctrlYPos="237"/>
            <ControlPoint xPos="346" yPos="295" ctrlXPos="385" ctrlYPos="280"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="266" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="611" yPos="283"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N180" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="746" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N659" name="Agent;Stops;Speaking" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentSpeaking"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="746" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N660" name="Check;Event;Data" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N661" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="66" ctrlXPos="446" ctrlYPos="66"/>
                <ControlPoint xPos="346" yPos="66" ctrlXPos="406" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Data"/>
              <String><![CDATA[start]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N662" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="66" ctrlXPos="646" ctrlYPos="66"/>
                <ControlPoint xPos="746" yPos="66" ctrlXPos="686" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Data"/>
              <String><![CDATA[stop]]></String>
            </Eq>
          </CEdge>
          <Graphics>
            <Position xPos="506" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N661" name="User;Starts;Speaking" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserSpeaking"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N662" name="User;Stops;Speaking" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserSpeaking"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="746" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N663" name="Check;Event;Data" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N664" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="386" ctrlXPos="446" ctrlYPos="386"/>
                <ControlPoint xPos="346" yPos="386" ctrlXPos="406" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Data"/>
              <String><![CDATA[start]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N659" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="386" ctrlXPos="646" ctrlYPos="386"/>
                <ControlPoint xPos="746" yPos="386" ctrlXPos="686" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Data"/>
              <String><![CDATA[stop]]></String>
            </Eq>
          </CEdge>
          <Graphics>
            <Position xPos="506" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N664" name="Agent;Starts;Speaking" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentSpeaking"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N667" name="Check;Event;Name" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N660" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="166"/>
                <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Name"/>
              <String><![CDATA[user]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N663" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="266" ctrlXPos="546" ctrlYPos="286"/>
                <ControlPoint xPos="546" yPos="346" ctrlXPos="546" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Name"/>
              <String><![CDATA[agent]]></String>
            </Eq>
          </CEdge>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S18" name="Await Next;Voice Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N666;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N667" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="406" ctrlYPos="226"/>
                <ControlPoint xPos="506" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[voice(Name, Data).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N665" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N666" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N666" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S127" name="Touch Event;Handling;Process" comment="" hideLocalVar="false" hideGlobalVar="false" start="S84;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Type">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="Name">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="X">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="Y">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard refresh]]]></String>
          </Play>
        </Commands>
        <EEdge target="S127" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="477" yPos="266" ctrlXPos="483" ctrlYPos="236"/>
            <ControlPoint xPos="506" yPos="295" ctrlXPos="549" ctrlYPos="284"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="426" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="272" yPos="53"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N190" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N675" name="Update;Piece;Position" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <Add>
                  <Add>
                    <Add>
                      <Add>
                        <String><![CDATA[update(]]></String>
                        <Variable name="Name"/>
                      </Add>
                      <String><![CDATA[, ]]></String>
                    </Add>
                    <Variable name="X"/>
                  </Add>
                  <String><![CDATA[, ]]></String>
                </Add>
                <Variable name="Y"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <CEdge target="N678" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="646" yPos="191" ctrlXPos="664" ctrlYPos="127"/>
                <ControlPoint xPos="746" yPos="66" ctrlXPos="692" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Type"/>
              <String><![CDATA[start]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N679" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Type"/>
              <String><![CDATA[drag]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N680" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="606" yPos="191" ctrlXPos="593" ctrlYPos="128"/>
                <ControlPoint xPos="506" yPos="66" ctrlXPos="559" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Type"/>
              <String><![CDATA[stop]]></String>
            </Eq>
          </CEdge>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N678" name="User;Starts;Dragging" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserDragging"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="746" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N679" name="User;Continues;Dragging" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(user, drag, ]]></String>
                <Variable name="Name"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="826" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N680" name="User;Stops;Dragging" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserDragging"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="426" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S84" name="Await Next;Touch Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N100;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N675" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
                <ControlPoint xPos="586" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[touch(Type, Name, X, Y).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N93" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N100" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N100" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S128" name="Gaze Event;Handling;Process" comment="" hideLocalVar="false" hideGlobalVar="false" start="S129;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Name">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="Data">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S128" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="477" yPos="106" ctrlXPos="478" ctrlYPos="73"/>
            <ControlPoint xPos="506" yPos="135" ctrlXPos="550" ctrlYPos="111"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="426" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="375" yPos="262"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N191" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="586" yPos="266"/>
          </Graphics>
        </Node>
        <Node id="N668" name="Check;Event;Name" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N669" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="286"/>
                <ControlPoint xPos="786" yPos="346" ctrlXPos="786" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Name"/>
              <String><![CDATA[agent]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N670" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="166"/>
                <ControlPoint xPos="786" yPos="106" ctrlXPos="786" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Name"/>
              <String><![CDATA[user]]></String>
            </Eq>
          </CEdge>
          <Graphics>
            <Position xPos="746" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N669" name="Check;Event;Data" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N671" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="386" ctrlXPos="686" ctrlYPos="386"/>
                <ControlPoint xPos="586" yPos="386" ctrlXPos="646" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Neq>
              <Variable name="Data"/>
              <Variable name="AgentGaze"/>
            </Neq>
          </CEdge>
          <Graphics>
            <Position xPos="746" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N670" name="Check;Event;Data" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N676" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="66" ctrlXPos="686" ctrlYPos="66"/>
                <ControlPoint xPos="586" yPos="66" ctrlXPos="646" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <Neq>
              <Variable name="Data"/>
              <Variable name="UserGaze"/>
            </Neq>
          </CEdge>
          <Graphics>
            <Position xPos="746" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N671" name="Send;Gaze;Signal" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(agent, shift, ]]></String>
                <Variable name="Data"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <EEdge target="N672" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="386" ctrlXPos="486" ctrlYPos="386"/>
              <ControlPoint xPos="346" yPos="386" ctrlXPos="366" ctrlYPos="386"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N672" name="Change;Agent;Gaze" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentGaze"/>
              <Expression>
                <Variable name="Data"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N676" name="Send;Gaze;Signals" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(user, shift, ]]></String>
                <Variable name="Data"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(user, focus, ]]></String>
                <Variable name="Data"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(user, glance, ]]></String>
                <Variable name="Data"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <EEdge target="N677" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="66" ctrlXPos="486" ctrlYPos="66"/>
              <ControlPoint xPos="346" yPos="66" ctrlXPos="366" ctrlYPos="66"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N677" name="Change;User;Gaze" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserGaze"/>
              <Expression>
                <Variable name="Data"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S129" name="Await Next;Gaze Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N193;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N668" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                <ControlPoint xPos="746" yPos="226" ctrlXPos="606" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[gaze(Name, Data).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N192" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N193" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N193" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S138" name="Speech Event;Handling;Process" comment="" hideLocalVar="false" hideGlobalVar="false" start="S23;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Fused">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="Event">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="Fun">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="Cat">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S138" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="637" yPos="106" ctrlXPos="647" ctrlYPos="76"/>
            <ControlPoint xPos="666" yPos="135" ctrlXPos="707" ctrlYPos="116"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="586" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="999" yPos="257"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N203" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N683" name="Check;Dialog Act;Function" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N21" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="706" yPos="106" ctrlXPos="706" ctrlYPos="126"/>
                <ControlPoint xPos="706" yPos="186" ctrlXPos="706" ctrlYPos="166"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Fun"/>
              <String><![CDATA[info_seeking]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N14" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="66" ctrlXPos="846" ctrlYPos="66"/>
                <ControlPoint xPos="906" yPos="66" ctrlXPos="806" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <Neq>
              <Variable name="Fun"/>
              <String><![CDATA[info_seeking]]></String>
            </Neq>
          </CEdge>
          <Graphics>
            <Position xPos="666" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N10" name="Check;Location;Referent" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[disambiguate(]]></String>
                <Variable name="Event"/>
              </Add>
              <String><![CDATA[, Fused).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <EEdge target="N11" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="666" yPos="386" ctrlXPos="606" ctrlYPos="386"/>
              <ControlPoint xPos="426" yPos="386" ctrlXPos="486" ctrlYPos="386"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="666" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N11" name="Send;Dialog Act;Signal" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(user, speech, ]]></String>
                <Variable name="Fused"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N14" name="Handle;Other;Function" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N16" name="Handle;Set;Question" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N21" name="Check;Dialog Act;Category" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N22" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="226" ctrlXPos="606" ctrlYPos="226"/>
                <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Cat"/>
              <String><![CDATA[choice_question]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N16" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="226" ctrlXPos="846" ctrlYPos="226"/>
                <ControlPoint xPos="906" yPos="226" ctrlXPos="806" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Cat"/>
              <String><![CDATA[set_question]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N10" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="706" yPos="266" ctrlXPos="706" ctrlYPos="286"/>
                <ControlPoint xPos="706" yPos="346" ctrlXPos="706" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Cat"/>
              <String><![CDATA[check_question]]></String>
            </Eq>
          </CEdge>
          <Graphics>
            <Position xPos="666" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N22" name="Handle;Choice;Question" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S23" name="Await Next;Speech;Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N682;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N683" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="66" ctrlXPos="486" ctrlYPos="66"/>
                <ControlPoint xPos="666" yPos="66" ctrlXPos="606" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[speech(Event, Fun, Cat).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N681" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N682" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N682" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S139" name="Face Event;Handling;Process" comment="" hideLocalVar="false" hideGlobalVar="false" start="S109;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Face">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S139" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="797" yPos="106" ctrlXPos="804" ctrlYPos="73"/>
            <ControlPoint xPos="826" yPos="135" ctrlXPos="861" ctrlYPos="115"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="746" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="560" yPos="316"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N204" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="826" yPos="106"/>
          </Graphics>
        </Node>
        <Node id="N34" name="Change;User;Face" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserFace"/>
              <Expression>
                <Variable name="Face"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="N33" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="586" yPos="146" ctrlXPos="646" ctrlYPos="146"/>
              <ControlPoint xPos="666" yPos="146" ctrlXPos="606" ctrlYPos="146"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="106"/>
          </Graphics>
        </Node>
        <Node id="N33" name="Send;Face;Signal" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(user, face, ]]></String>
                <Variable name="Face"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S109" name="Await Next;Face Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N164;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N34" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="146" ctrlXPos="406" ctrlYPos="146"/>
                <ControlPoint xPos="506" yPos="146" ctrlXPos="446" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[face(Face).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N154" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N164" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N164" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S141" name="State Event;Handling;Process" comment="" hideLocalVar="false" hideGlobalVar="false" start="S142;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Name">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="Data">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard refresh]]]></String>
          </Play>
        </Commands>
        <EEdge target="S141" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="317" yPos="106" ctrlXPos="319" ctrlYPos="77"/>
            <ControlPoint xPos="346" yPos="135" ctrlXPos="386" ctrlYPos="101"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="611" yPos="281"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N206" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="746" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N652" name="Check;Event;Name" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N653" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="166"/>
                <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Name"/>
              <String><![CDATA[user]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N654" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="266" ctrlXPos="546" ctrlYPos="286"/>
                <ControlPoint xPos="546" yPos="346" ctrlXPos="546" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Name"/>
              <String><![CDATA[agent]]></String>
            </Eq>
          </CEdge>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N653" name="Check;Event;Data" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N656" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="66" ctrlXPos="446" ctrlYPos="66"/>
                <ControlPoint xPos="346" yPos="66" ctrlXPos="406" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Data"/>
              <String><![CDATA[enter]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N657" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="66" ctrlXPos="646" ctrlYPos="66"/>
                <ControlPoint xPos="746" yPos="66" ctrlXPos="686" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Data"/>
              <String><![CDATA[leave]]></String>
            </Eq>
          </CEdge>
          <Graphics>
            <Position xPos="506" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N654" name="Check;Event;Data" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <CEdge target="N655" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="386" ctrlXPos="446" ctrlYPos="386"/>
                <ControlPoint xPos="346" yPos="386" ctrlXPos="406" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Data"/>
              <String><![CDATA[enter]]></String>
            </Eq>
          </CEdge>
          <CEdge target="N658" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="386" ctrlXPos="646" ctrlYPos="386"/>
                <ControlPoint xPos="746" yPos="386" ctrlXPos="686" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="Data"/>
              <String><![CDATA[leave]]></String>
            </Eq>
          </CEdge>
          <Graphics>
            <Position xPos="506" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N655" name="Agent;Enters;Dialog" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentPresent"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="346"/>
          </Graphics>
        </Node>
        <Node id="N656" name="User;Enters;Dialog" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserPresent"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N657" name="User;Leaves;Dialog" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserPresent"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="746" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N658" name="Agent;Leaves;Dialog" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentPresent"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="746" yPos="346"/>
          </Graphics>
        </Node>
        <SuperNode id="S142" name="Await Next;State Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N208;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N652" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="406" ctrlYPos="226"/>
                <ControlPoint xPos="506" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[state(Name, Data).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N207" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N208" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N208" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S14" name="Move Event;Handling;Process" comment="" hideLocalVar="false" hideGlobalVar="false" start="S42;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S14" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="637" yPos="266" ctrlXPos="643" ctrlYPos="235"/>
            <ControlPoint xPos="666" yPos="295" ctrlXPos="706" ctrlYPos="281"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="586" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N17" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="826" yPos="106"/>
          </Graphics>
        </Node>
        <Node id="N42" name="Send;Move;Action;Signal" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(user, move, ]]></String>
                <Variable name="Data"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="106"/>
          </Graphics>
        </Node>
        <Node id="N60" name="Change;User;Move" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserMove"/>
              <Expression>
                <Variable name="Data"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="N42" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="586" yPos="146" ctrlXPos="606" ctrlYPos="146"/>
              <ControlPoint xPos="666" yPos="146" ctrlXPos="646" ctrlYPos="146"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S42" name="Await Next;Move Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N49;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N60" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="146" ctrlXPos="406" ctrlYPos="146"/>
                <ControlPoint xPos="506" yPos="146" ctrlXPos="446" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[move(Data).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N43" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N49" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N49" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S25" name="Head Event;Handling;Process" comment="" hideLocalVar="false" hideGlobalVar="false" start="S33;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Data">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S25" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="797" yPos="266" ctrlXPos="807" ctrlYPos="234"/>
            <ControlPoint xPos="826" yPos="295" ctrlXPos="868" ctrlYPos="280"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="746" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="271" yPos="66"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N35" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="826" yPos="106"/>
          </Graphics>
        </Node>
        <Node id="N36" name="Change;User;Head" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserHead"/>
              <Expression>
                <Variable name="Data"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="N25" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="586" yPos="146" ctrlXPos="646" ctrlYPos="146"/>
              <ControlPoint xPos="666" yPos="146" ctrlXPos="606" ctrlYPos="146"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="106"/>
          </Graphics>
        </Node>
        <Node id="N25" name="Send;Head;Signal" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(user, head, ]]></String>
                <Variable name="Data"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S33" name="Await Next;Head Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N38;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N36" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="146" ctrlXPos="406" ctrlYPos="146"/>
                <ControlPoint xPos="506" yPos="146" ctrlXPos="446" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[head(Data).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N37" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N38" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N38" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S48" name="Dialog And;Behavior;Control" comment="" hideLocalVar="false" hideGlobalVar="false" start="S4;S102;S71;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="346" yPos="26"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N103" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="746" yPos="106"/>
        </Graphics>
      </Node>
      <SuperNode id="S4" name="Dialog;Flow;Control" comment="" hideLocalVar="false" hideGlobalVar="false" start="S49;S92;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Contribution">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="DialogScene">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="AbortScene">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="AssignScene">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="Bool" name ="AgentInterrupted">
            <Bool value="false"/>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="786" yPos="301"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N104" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="746" yPos="426"/>
          </Graphics>
        </Node>
        <Node id="N124" name="Request;Contribution;Execution" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(dialog, role, request).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S91" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="666" yPos="226" ctrlXPos="686" ctrlYPos="226"/>
              <ControlPoint xPos="746" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N13" name="Contribution;Execution;Rejected" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(dialog, planner, rejected).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S49" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="66" ctrlXPos="372" ctrlYPos="66"/>
              <ControlPoint xPos="306" yPos="186" ctrlXPos="306" ctrlYPos="132"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="426" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N135" name="Set Agent;Interrupted;State" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentInterrupted"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="S92" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="546" ctrlXPos="406" ctrlYPos="546"/>
              <ControlPoint xPos="346" yPos="546" ctrlXPos="366" ctrlYPos="546"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="426" yPos="506"/>
          </Graphics>
        </Node>
        <Node id="N137" name="Abort;Agent;Behavior" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Abort>
              <String><![CDATA[agent.]]></String>
            </Abort>
          </Commands>
          <EEdge target="N135" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="586" yPos="546" ctrlXPos="566" ctrlYPos="546"/>
              <ControlPoint xPos="506" yPos="546" ctrlXPos="526" ctrlYPos="546"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="506"/>
          </Graphics>
        </Node>
        <SuperNode id="S49" name="Await Next;Contribution;Of The User; Or Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="S60;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="Speech">
              <String><![CDATA[]]></String>
            </Variable>
            <Variable type="String" name ="Move">
              <String><![CDATA[]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N124" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
                <ControlPoint xPos="586" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(planner, dialog, Contribution).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="548" yPos="39"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="693" yPos="168" width="264" height="100"/>
            </Graphics>
            <Text style="color:blue">
              Detect, collect and disambiguate the user's last contribution, such as a speech act and move action and then infer the next contribution. Then plan an adequate response and signal the corresponding scene.
            </Text>
          </Comment>
          <Node id="N105" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="426" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S50" name="Handle;User;Move;Action" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S60" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="506" ctrlXPos="406" ctrlYPos="486"/>
                <ControlPoint xPos="426" yPos="426" ctrlXPos="406" ctrlYPos="446"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="426" yPos="506"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N106" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S52" name="Handle;User;Speech;Action" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S60" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="266" ctrlXPos="406" ctrlYPos="286"/>
                <ControlPoint xPos="426" yPos="346" ctrlXPos="406" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="426" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N112" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S60" name="Await And;Process;User;Actions" comment="" hideLocalVar="false" hideGlobalVar="false" start="N114;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S52" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="346" ctrlXPos="526" ctrlYPos="326"/>
                  <ControlPoint xPos="506" yPos="266" ctrlXPos="526" ctrlYPos="286"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(user, speech, Speech).]]></String>
              </PrologQuery>
            </IEdge>
            <IEdge target="S50" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="426" ctrlXPos="526" ctrlYPos="446"/>
                  <ControlPoint xPos="506" yPos="506" ctrlXPos="526" ctrlYPos="486"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[detect(user, move, Move).]]></String>
              </PrologQuery>
            </IEdge>
            <Graphics>
              <Position xPos="426" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N113" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N114" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N114" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S69" name="Execute;Dialog;Contribution;Of Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N142;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(dialog, planner, accepted).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S49" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="386" ctrlXPos="372" ctrlYPos="386"/>
              <ControlPoint xPos="306" yPos="266" ctrlXPos="306" ctrlYPos="319"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="426" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="447" yPos="424"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N126" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="586" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N18" name="Forbid To;Interrupt;Agent" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentInterruptible"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S62" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="66" ctrlXPos="446" ctrlYPos="66"/>
                <ControlPoint xPos="506" yPos="66" ctrlXPos="486" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N19" name="Unset;Interrupt;States" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentInterrupted"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentInterruptible"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S75" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="386" ctrlXPos="446" ctrlYPos="386"/>
                <ControlPoint xPos="506" yPos="386" ctrlXPos="486" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="346"/>
            </Graphics>
          </Node>
          <Node id="N57" name="Signal;Scene;Aborted" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(dialog, planner, aborted).]]></String>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="746" yPos="346"/>
            </Graphics>
          </Node>
          <Node id="N128" name="Signal;Scene;Finished" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(dialog, planner, finished).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="N144" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="786" yPos="106" ctrlXPos="786" ctrlYPos="126"/>
                <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="166"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="746" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N142" name="Allow To;Interrupt;Agent" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentInterruptible"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S83" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="536" yPos="187" ctrlXPos="531" ctrlYPos="167"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N144" name="Signal;Floor;Release" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(dialog, role, release).]]></String>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="746" yPos="186"/>
            </Graphics>
          </Node>
          <SuperNode id="S75" name="Execute;Abort;Scene" comment="" hideLocalVar="false" hideGlobalVar="false" start="N167;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N57" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="386" ctrlXPos="646" ctrlYPos="386"/>
                <ControlPoint xPos="746" yPos="386" ctrlXPos="686" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N165" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N167" name="Start;Speaking" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentSpeaking"/>
                  <Expression>
                    <Bool value="true"/>
                  </Expression>
                </Assign>
                <Play>
                  <String><![CDATA[[wizard refresh]]]></String>
                </Play>
              </Commands>
              <EEdge target="N169" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="146" ctrlXPos="486" ctrlYPos="146"/>
                  <ControlPoint xPos="586" yPos="146" ctrlXPos="526" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N168" name="Stop;Speaking" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentSpeaking"/>
                  <Expression>
                    <Bool value="false"/>
                  </Expression>
                </Assign>
                <Play>
                  <String><![CDATA[[wizard refresh]]]></String>
                </Play>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N169" name="Play;Abort;Scene" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <Add>
                  <Add>
                    <String><![CDATA[val(abortscene, AbortScene, ]]></String>
                    <Variable name="Contribution"/>
                  </Add>
                  <String><![CDATA[).]]></String>
                </Add>
                </PrologQuery>
                <Play>
                  <Add>
                    <Add>
                      <String><![CDATA[[wizard output text='playing_scene_]]></String>
                      <Variable name="AbortScene"/>
                    </Add>
                    <String><![CDATA[']]]></String>
                  </Add>
                </Play>
              </Commands>
              <TEdge target="N168" start="" timeout="1000">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="146" ctrlXPos="726" ctrlYPos="146"/>
                  <ControlPoint xPos="826" yPos="146" ctrlXPos="766" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              </TEdge>
              <Graphics>
                <Position xPos="586" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S83" name="Execute;Dialog;Scene" comment="" hideLocalVar="false" hideGlobalVar="false" start="N178;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N18" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="166"/>
                <ControlPoint xPos="386" yPos="106" ctrlXPos="386" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            </EEdge>
            <IEdge target="N19" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="286"/>
                  <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="326"/>
                </Connection>
              </Graphics>
              <Variable name="AgentInterrupted"/>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N175" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N176" name="Play;Dialog;Scene" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <Add>
                  <Add>
                    <String><![CDATA[val(dialogscene, DialogScene, ]]></String>
                    <Variable name="Contribution"/>
                  </Add>
                  <String><![CDATA[).]]></String>
                </Add>
                </PrologQuery>
                <Play>
                  <Add>
                    <Add>
                      <String><![CDATA[[wizard output text=playing_scene_]]></String>
                      <Variable name="DialogScene"/>
                    </Add>
                    <String><![CDATA[]]]></String>
                  </Add>
                </Play>
              </Commands>
              <TEdge target="N177" start="" timeout="30000">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
                  <ControlPoint xPos="826" yPos="146" ctrlXPos="806" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              </TEdge>
              <Graphics>
                <Position xPos="586" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N177" name="Stop;Speaking" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentSpeaking"/>
                  <Expression>
                    <Bool value="false"/>
                  </Expression>
                </Assign>
                <Play>
                  <String><![CDATA[[wizard refresh]]]></String>
                </Play>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N178" name="Start;Speaking" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentSpeaking"/>
                  <Expression>
                    <Bool value="true"/>
                  </Expression>
                </Assign>
                <Play>
                  <String><![CDATA[[wizard refresh]]]></String>
                </Play>
              </Commands>
              <EEdge target="N176" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="146" ctrlXPos="486" ctrlYPos="146"/>
                  <ControlPoint xPos="586" yPos="146" ctrlXPos="526" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S62" name="Execute;Assign;Scene" comment="" hideLocalVar="false" hideGlobalVar="false" start="N134;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N128" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="66" ctrlXPos="646" ctrlYPos="66"/>
                <ControlPoint xPos="746" yPos="66" ctrlXPos="686" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N131" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N132" name="Play;Assign;Scene" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <Add>
                  <Add>
                    <String><![CDATA[val(assignscene, AssignScene, ]]></String>
                    <Variable name="Contribution"/>
                  </Add>
                  <String><![CDATA[).]]></String>
                </Add>
                </PrologQuery>
                <Play>
                  <Add>
                    <Add>
                      <String><![CDATA[[wizard output text='playing_scene_]]></String>
                      <Variable name="AssignScene"/>
                    </Add>
                    <String><![CDATA[']]]></String>
                  </Add>
                </Play>
              </Commands>
              <TEdge target="N133" start="" timeout="1000">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="146" ctrlXPos="726" ctrlYPos="146"/>
                  <ControlPoint xPos="826" yPos="146" ctrlXPos="766" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              </TEdge>
              <Graphics>
                <Position xPos="586" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N133" name="Stop;Speaking" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentSpeaking"/>
                  <Expression>
                    <Bool value="false"/>
                  </Expression>
                </Assign>
                <Play>
                  <String><![CDATA[[wizard refresh]]]></String>
                </Play>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N134" name="Start;Speaking" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentSpeaking"/>
                  <Expression>
                    <Bool value="true"/>
                  </Expression>
                </Assign>
                <Play>
                  <String><![CDATA[[wizard refresh]]]></String>
                </Play>
              </Commands>
              <EEdge target="N132" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="146" ctrlXPos="486" ctrlYPos="146"/>
                  <ControlPoint xPos="586" yPos="146" ctrlXPos="526" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S91" name="Await;Role Shift;Decision;Response" comment="" hideLocalVar="false" hideGlobalVar="false" start="N24;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N13" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="775" yPos="186" ctrlXPos="742" ctrlYPos="67"/>
                <ControlPoint xPos="506" yPos="66" ctrlXPos="624" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(role, dialog, rejected).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S69" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="775" yPos="266" ctrlXPos="742" ctrlYPos="384"/>
                <ControlPoint xPos="506" yPos="386" ctrlXPos="624" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(role, dialog, accepted).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="746" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N3" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N24" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N24" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S92" name="Await;Dialog;Interruption;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N139;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S93" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="523" ctrlXPos="412" ctrlYPos="501"/>
                <ControlPoint xPos="746" yPos="523" ctrlXPos="649" ctrlYPos="478"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[detect(role, dialog, interrupted).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N138" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N139" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N139" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S93" name="Await;Abortion;Handling;Timeout" comment="" hideLocalVar="false" hideGlobalVar="false" start="N140;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="N137" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="546" ctrlXPos="726" ctrlYPos="546"/>
                <ControlPoint xPos="666" yPos="546" ctrlXPos="686" ctrlYPos="546"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="750"/>
            </TimeoutCondition>
          </IEdge>
          <Graphics>
            <Position xPos="746" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N249" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N140" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N140" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S102" name="Role;Specific;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="S130;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="426" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N215" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S103" name="Execute;Nonverbal;Participant;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="S110;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S130" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="206"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="206"/>
              </Connection>
            </Graphics>
            <Or>
              <Eq>
                <Variable name="UserRole"/>
                <String><![CDATA[absent]]></String>
              </Eq>
              <Eq>
                <Variable name="AgentRole"/>
                <String><![CDATA[absent]]></String>
              </Eq>
            </Or>
          </IEdge>
          <Graphics>
            <Position xPos="506" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="838" yPos="293" width="301" height="96"/>
            </Graphics>
            <Text style="color:blue">
              We understand the bystander role in a dyadic interaction as the phases in which the participants are interacting with each other but no one currently wants to take on the speaker or addressee role which means that these roles are not negotiated.
            </Text>
          </Comment>
          <Node id="N217" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="826" yPos="186"/>
            </Graphics>
          </Node>
          <SuperNode id="S106" name="Execute;Nonverbal;Speaker;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="N219;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S110" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
                  <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="AgentRole"/>
                <String><![CDATA[bystander]]></String>
              </Eq>
            </IEdge>
            <IEdge target="S119" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="409" yPos="186" ctrlXPos="436" ctrlYPos="127"/>
                  <ControlPoint xPos="683" yPos="186" ctrlXPos="668" ctrlYPos="139"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="AgentRole"/>
                <String><![CDATA[addressee]]></String>
              </Eq>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="519" yPos="141"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N218" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N219" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N219" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S110" name="Execute;Nonverbal;Bystander;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="N263;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S106" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
                  <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="AgentRole"/>
                <String><![CDATA[speaker]]></String>
              </Eq>
            </IEdge>
            <IEdge target="S119" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="186" ctrlXPos="606" ctrlYPos="166"/>
                  <ControlPoint xPos="666" yPos="186" ctrlXPos="646" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="AgentRole"/>
                <String><![CDATA[addressee]]></String>
              </Eq>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="514" yPos="130"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N258" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N263" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N263" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S119" name="Execute;Nonverbal;Addressee;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="S85;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Content">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S110" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="266" ctrlXPos="646" ctrlYPos="286"/>
                  <ControlPoint xPos="586" yPos="266" ctrlXPos="606" ctrlYPos="286"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="AgentRole"/>
                <String><![CDATA[bystander]]></String>
              </Eq>
            </IEdge>
            <IEdge target="S106" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="683" yPos="266" ctrlXPos="662" ctrlYPos="310"/>
                  <ControlPoint xPos="409" yPos="266" ctrlXPos="421" ctrlYPos="335"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="AgentRole"/>
                <String><![CDATA[speaker]]></String>
              </Eq>
            </IEdge>
            <Graphics>
              <Position xPos="666" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="419" yPos="292"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N264" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="266"/>
              </Graphics>
            </Node>
            <SuperNode id="S120" name="React To;Feedback;Eliciting;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="S85" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="186" ctrlXPos="559" ctrlYPos="239"/>
                  <ControlPoint xPos="586" yPos="266" ctrlXPos="532" ctrlYPos="212"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="426" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N269" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S121" name="React To;Mirroring;Eliciting;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="S85" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="637" yPos="186" ctrlXPos="642" ctrlYPos="206"/>
                  <ControlPoint xPos="637" yPos="266" ctrlXPos="642" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="586" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N276" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S123" name="React To;Turn-Taking;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="906" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N277" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="26" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S124" name="React To;Object;Movement;Of The User" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="S85" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="426" ctrlXPos="559" ctrlYPos="372"/>
                  <ControlPoint xPos="586" yPos="346" ctrlXPos="532" ctrlYPos="399"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="426" yPos="426"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N278" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S125" name="React To;Mutual;Gaze;Request" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="S85" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="186" ctrlXPos="692" ctrlYPos="239"/>
                  <ControlPoint xPos="666" yPos="266" ctrlXPos="719" ctrlYPos="212"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="746" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N279" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S126" name="React To;Directed;Gaze;Request" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="S85" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="426" ctrlXPos="692" ctrlYPos="372"/>
                  <ControlPoint xPos="666" yPos="346" ctrlXPos="719" ctrlYPos="399"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="746" yPos="426"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N280" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S85" name="Default;Addressee;Idle;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="N248;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S121" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="246"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="206"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user,mimic,Content).]]></String>
                </PrologQuery>
              </IEdge>
              <IEdge target="S120" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="295" ctrlXPos="462" ctrlYPos="273"/>
                    <ControlPoint xPos="466" yPos="186" ctrlXPos="466" ctrlYPos="239"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user,elicit,back).]]></String>
                </PrologQuery>
              </IEdge>
              <IEdge target="S125" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="295" ctrlXPos="786" ctrlYPos="281"/>
                    <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="239"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(gaze, mutual).]]></String>
                </PrologQuery>
              </IEdge>
              <IEdge target="S126" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="317" ctrlXPos="770" ctrlYPos="352"/>
                    <ControlPoint xPos="786" yPos="426" ctrlXPos="782" ctrlYPos="380"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(gaze, directed, Content).]]></String>
                </PrologQuery>
              </IEdge>
              <IEdge target="S86" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="366"/>
                    <ControlPoint xPos="626" yPos="426" ctrlXPos="626" ctrlYPos="406"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user, focus, Content).]]></String>
                </PrologQuery>
              </IEdge>
              <IEdge target="S124" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="317" ctrlXPos="483" ctrlYPos="360"/>
                    <ControlPoint xPos="466" yPos="426" ctrlXPos="466" ctrlYPos="372"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[detect(user, drag, Content).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N221" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="426" yPos="106"/>
                </Graphics>
              </Node>
              <Node id="N248" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N248" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="476" yPos="187" ctrlXPos="496" ctrlYPos="109"/>
                    <ControlPoint xPos="501" yPos="206" ctrlXPos="571" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="426" yPos="186"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S86" name="Follow The;Gaze Shifts;Of The User" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="S85" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="637" yPos="426" ctrlXPos="642" ctrlYPos="406"/>
                  <ControlPoint xPos="637" yPos="346" ctrlXPos="642" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="586" yPos="426"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N255" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S130" name="Execute;Nonverbal;Overhearer;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="N295;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S103" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="106" ctrlXPos="446" ctrlYPos="95"/>
                <ControlPoint xPos="506" yPos="106" ctrlXPos="486" ctrlYPos="95"/>
              </Connection>
            </Graphics>
            <And>
              <Neq>
                <Variable name="UserRole"/>
                <String><![CDATA[absent]]></String>
              </Neq>
              <Neq>
                <Variable name="AgentRole"/>
                <String><![CDATA[absent]]></String>
              </Neq>
            </And>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N281" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N295" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N295" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S71" name="Universal;Behavior;Functions" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="586" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N91" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S73" name="Automatic;Blinking;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N120" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S87" name="Automatic;Breathing;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N121" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S16" name="System;Status;Monitoring" comment="" hideLocalVar="false" hideGlobalVar="false" start="S65;S57;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="666" yPos="26"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N31" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <SuperNode id="S57" name="Statistical;Reporting;Processes" comment="" hideLocalVar="false" hideGlobalVar="false" start="N146;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Report">
            <String><![CDATA[5000]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="426" yPos="26"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="400" yPos="234"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N145" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
        </Node>
        <Node id="N146" name="Infer;System;Time" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[now(SystemTime).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="N146" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="636" yPos="107" ctrlXPos="656" ctrlYPos="29"/>
              <ControlPoint xPos="661" yPos="126" ctrlXPos="731" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S64" name="Report;Fact Base;Statistics" comment="" hideLocalVar="false" hideGlobalVar="false" start="N163;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[statistics.]]></String>
            </PrologQuery>
          </Commands>
          <IEdge target="S64" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="477" yPos="106" ctrlXPos="507" ctrlYPos="54"/>
                <ControlPoint xPos="506" yPos="135" ctrlXPos="552" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Variable name="Report"/>
            </TimeoutCondition>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N150" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N163" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N163" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S65" name="Garbage;Collection;Processes" comment="" hideLocalVar="false" hideGlobalVar="false" start="S68;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Cleanup">
            <String><![CDATA[5000]]></String>
          </Variable>
          <Variable type="String" name ="GazeAge">
            <String><![CDATA[10000]]></String>
          </Variable>
          <Variable type="String" name ="SpeechAge">
            <String><![CDATA[30000]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="586" yPos="26"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="377" yPos="236"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N170" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S68" name="Collect;Fact Base;Garbage" comment="" hideLocalVar="false" hideGlobalVar="false" start="N172;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[clean(gaze, ]]></String>
                <Variable name="GazeAge"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[clean(speech, ]]></String>
                <Variable name="SpeechAge"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <IEdge target="S68" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="477" yPos="106" ctrlXPos="500" ctrlYPos="48"/>
                <ControlPoint xPos="506" yPos="135" ctrlXPos="562" ctrlYPos="118"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Variable name="Cleanup"/>
            </TimeoutCondition>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N171" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N172" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N172" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
    </SuperNode>
  </SuperNode>
  <SuperNode id="S39" name="Testing" comment="" hideLocalVar="false" hideGlobalVar="false" start="S30;S100;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <Graphics>
      <Position xPos="426" yPos="186"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="853" yPos="430"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </GlobalVariableBadge>
    <Comment>
      <Graphics>
        <Boundary xPos="226" yPos="199" width="201" height="106"/>
      </Graphics>
      <Text style="color:blue">
        Problem 1 ist dass der timeout nicht zurückgesetzt wird, wenn der knoten verlassen wird und somit gleich abläuft wenn er wieder betreten wird
      </Text>
    </Comment>
    <Comment>
      <Graphics>
        <Boundary xPos="690" yPos="225" width="100" height="100"/>
      </Graphics>
      <Text style="color:blue">
        Problem 2 ist dass der timeout expression von anderen knoten ausgewertet wird.
      </Text>
    </Comment>
    <Node id="N76" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="346" yPos="106"/>
      </Graphics>
    </Node>
    <Node id="N77" name="Timeout" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N78" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="586" yPos="146" ctrlXPos="646" ctrlYPos="146"/>
            <ControlPoint xPos="746" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <String><![CDATA[timeout(name, 3000).]]></String>
        </PrologQuery>
      </CEdge>
      <EEdge target="N77" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="556" yPos="107" ctrlXPos="576" ctrlYPos="29"/>
          <ControlPoint xPos="581" yPos="126" ctrlXPos="651" ctrlYPos="86"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="506" yPos="106"/>
      </Graphics>
    </Node>
    <Node id="N78" name="Repeat" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N77" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="747" yPos="156" ctrlXPos="688" ctrlYPos="171"/>
          <ControlPoint xPos="585" yPos="156" ctrlXPos="643" ctrlYPos="171"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="746" yPos="106"/>
      </Graphics>
    </Node>
    <Node id="N45" name="N45" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N45" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="1196" yPos="107" ctrlXPos="1216" ctrlYPos="29"/>
          <ControlPoint xPos="1221" yPos="126" ctrlXPos="1291" ctrlYPos="86"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="1146" yPos="106"/>
      </Graphics>
    </Node>
    <Node id="N59" name="N59" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N59" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="1196" yPos="267" ctrlXPos="1216" ctrlYPos="189"/>
          <ControlPoint xPos="1221" yPos="286" ctrlXPos="1291" ctrlYPos="246"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="1146" yPos="266"/>
      </Graphics>
    </Node>
    <Node id="N67" name="N67" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N67" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="876" yPos="347" ctrlXPos="896" ctrlYPos="269"/>
          <ControlPoint xPos="901" yPos="366" ctrlXPos="971" ctrlYPos="326"/>
        </Connection>
      </Graphics>
      </EEdge>
      <IEdge target="N68" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="905" yPos="396" ctrlXPos="969" ctrlYPos="412"/>
            <ControlPoint xPos="1067" yPos="456" ctrlXPos="1002" ctrlYPos="439"/>
          </Connection>
        </Graphics>
        <Eq>
          <Variable name="x"/>
          <String><![CDATA[start]]></String>
        </Eq>
      </IEdge>
      <Graphics>
        <Position xPos="826" yPos="346"/>
      </Graphics>
    </Node>
    <Node id="N68" name="N68" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N68" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="1116" yPos="427" ctrlXPos="1136" ctrlYPos="349"/>
          <ControlPoint xPos="1141" yPos="446" ctrlXPos="1211" ctrlYPos="406"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="1066" yPos="426"/>
      </Graphics>
    </Node>
    <Node id="N70" name="N70" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N71" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="986" yPos="626" ctrlXPos="1006" ctrlYPos="626"/>
            <ControlPoint xPos="1066" yPos="626" ctrlXPos="1046" ctrlYPos="626"/>
          </Connection>
        </Graphics>
        <Eq>
          <Variable name="x"/>
          <String><![CDATA[start]]></String>
        </Eq>
      </CEdge>
      <EEdge target="N70" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="956" yPos="587" ctrlXPos="976" ctrlYPos="509"/>
          <ControlPoint xPos="981" yPos="606" ctrlXPos="1051" ctrlYPos="566"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="906" yPos="586"/>
      </Graphics>
    </Node>
    <Node id="N71" name="N71" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N71" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="1116" yPos="587" ctrlXPos="1136" ctrlYPos="509"/>
          <ControlPoint xPos="1141" yPos="606" ctrlXPos="1211" ctrlYPos="566"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="1066" yPos="586"/>
      </Graphics>
    </Node>
    <Node id="N337" name="N337" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="Restart"/>
          <Expression>
            <String><![CDATA[ja]]></String>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="Restart"/>
          <Expression>
            <String><![CDATA[nein]]></String>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="Restart"/>
          <Expression>
            <String><![CDATA[ja]]></String>
          </Expression>
        </Assign>
      </Commands>
      <Graphics>
        <Position xPos="586" yPos="346"/>
      </Graphics>
    </Node>
    <Node id="N338" name="N338" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N339" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="986" yPos="546" ctrlXPos="1090" ctrlYPos="546"/>
            <ControlPoint xPos="1231" yPos="486" ctrlXPos="1139" ctrlYPos="538"/>
          </Connection>
        </Graphics>
        <Eq>
          <Variable name="Restart"/>
          <String><![CDATA[ja]]></String>
        </Eq>
      </CEdge>
      <TEdge target="N338" start="" timeout="1000">
      <Graphics>
        <Connection>
          <ControlPoint xPos="956" yPos="507" ctrlXPos="976" ctrlYPos="429"/>
          <ControlPoint xPos="981" yPos="526" ctrlXPos="1051" ctrlYPos="486"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="906" yPos="506"/>
      </Graphics>
    </Node>
    <Node id="N339" name="N339" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <UserCommand name="print">
          <String><![CDATA[take]]></String>
        </UserCommand>
      </Commands>
      <EEdge target="N338" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="1227" yPos="476" ctrlXPos="1124" ctrlYPos="502"/>
          <ControlPoint xPos="985" yPos="536" ctrlXPos="1087" ctrlYPos="509"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="1226" yPos="426"/>
      </Graphics>
    </Node>
    <SuperNode id="S17" name="S17" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="S17" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="946" yPos="106" ctrlXPos="946" ctrlYPos="26"/>
          <ControlPoint xPos="986" yPos="106" ctrlXPos="1066" ctrlYPos="26"/>
        </Connection>
      </Graphics>
      </EEdge>
      <IEdge target="N45" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="986" yPos="146" ctrlXPos="1046" ctrlYPos="146"/>
            <ControlPoint xPos="1146" yPos="146" ctrlXPos="1086" ctrlYPos="146"/>
          </Connection>
        </Graphics>
        <Eq>
          <Variable name="x"/>
          <String><![CDATA[start]]></String>
        </Eq>
      </IEdge>
      <Graphics>
        <Position xPos="906" yPos="106"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N44" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="26" yPos="26"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S21" name="S21" comment="" hideLocalVar="false" hideGlobalVar="false" start="N58;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <IEdge target="N59" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="986" yPos="306" ctrlXPos="1046" ctrlYPos="306"/>
            <ControlPoint xPos="1146" yPos="306" ctrlXPos="1086" ctrlYPos="306"/>
          </Connection>
        </Graphics>
        <Eq>
          <Variable name="x"/>
          <String><![CDATA[start]]></String>
        </Eq>
      </IEdge>
      <Graphics>
        <Position xPos="906" yPos="266"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N55" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="26" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N58" name="N58" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N58" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
            <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="346" yPos="186"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S30" name="S30" comment="" hideLocalVar="false" hideGlobalVar="false" start="N75;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <IEdge target="N337" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="426" yPos="466" ctrlXPos="486" ctrlYPos="466"/>
            <ControlPoint xPos="586" yPos="386" ctrlXPos="526" ctrlYPos="386"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <String><![CDATA[timeout(connect, 1000).]]></String>
        </PrologQuery>
      </IEdge>
      <Graphics>
        <Position xPos="346" yPos="426"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N73" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
      </Node>
      <Node id="N75" name="N75" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <TEdge target="N75" start="" timeout="265">
        <Graphics>
          <Connection>
            <ControlPoint xPos="316" yPos="187" ctrlXPos="336" ctrlYPos="109"/>
            <ControlPoint xPos="341" yPos="206" ctrlXPos="411" ctrlYPos="166"/>
          </Connection>
        </Graphics>
        </TEdge>
        <Graphics>
          <Position xPos="266" yPos="186"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S100" name="S21" comment="" hideLocalVar="false" hideGlobalVar="false" start="N335;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <IEdge target="S101" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="266" yPos="626" ctrlXPos="326" ctrlYPos="626"/>
            <ControlPoint xPos="426" yPos="626" ctrlXPos="366" ctrlYPos="626"/>
          </Connection>
        </Graphics>
        <Eq>
          <Variable name="Restart"/>
          <String><![CDATA[ja]]></String>
        </Eq>
      </IEdge>
      <Graphics>
        <Position xPos="186" yPos="586"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N80" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="26" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N335" name="N58" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N335" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
            <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="346" yPos="186"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S101" name="S21" comment="" hideLocalVar="false" hideGlobalVar="false" start="N340;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <IEdge target="S105" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="506" yPos="626" ctrlXPos="526" ctrlYPos="626"/>
            <ControlPoint xPos="666" yPos="626" ctrlXPos="646" ctrlYPos="626"/>
          </Connection>
        </Graphics>
        <Eq>
          <Variable name="Restart"/>
          <String><![CDATA[nein]]></String>
        </Eq>
      </IEdge>
      <Graphics>
        <Position xPos="426" yPos="586"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N336" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="26" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N340" name="N58" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N340" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
            <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="346" yPos="186"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S105" name="S105" comment="" hideLocalVar="false" hideGlobalVar="false" start="N342;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <IEdge target="S107" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="666" yPos="649" ctrlXPos="581" ctrlYPos="697"/>
            <ControlPoint xPos="506" yPos="763" ctrlXPos="590" ctrlYPos="714"/>
          </Connection>
        </Graphics>
        <Eq>
          <Variable name="Restart"/>
          <String><![CDATA[ja]]></String>
        </Eq>
      </IEdge>
      <Graphics>
        <Position xPos="666" yPos="586"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N341" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="26" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N342" name="N342" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N342" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
            <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="346" yPos="186"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S107" name="S107" comment="" hideLocalVar="false" hideGlobalVar="false" start="N345;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="426" yPos="746"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N343" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="26" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N345" name="N345" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N345" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="316" yPos="187" ctrlXPos="336" ctrlYPos="109"/>
            <ControlPoint xPos="341" yPos="206" ctrlXPos="411" ctrlYPos="166"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="266" yPos="186"/>
        </Graphics>
      </Node>
    </SuperNode>
  </SuperNode>
  <SuperNode id="S3" name="Put-That-;There-;Example" comment="" hideLocalVar="false" hideGlobalVar="false" start="N156;">
    <Define>
    </Define>
    <Declare>
      <Variable type="String" name ="Object">
        <String><![CDATA[]]></String>
      </Variable>
      <Variable type="String" name ="Target">
        <String><![CDATA[]]></String>
      </Variable>
    </Declare>
    <Commands>
    </Commands>
    <EEdge target="S3" start ="">
    <Graphics>
      <Connection>
        <ControlPoint xPos="786" yPos="346" ctrlXPos="786" ctrlYPos="266"/>
        <ControlPoint xPos="826" yPos="386" ctrlXPos="906" ctrlYPos="386"/>
      </Connection>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position xPos="746" yPos="346"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="1008" yPos="487"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </GlobalVariableBadge>
    <Comment>
      <Graphics>
        <Boundary xPos="1207" yPos="5" width="198" height="244"/>
      </Graphics>
      <Text style="color:blue">
        The generalized quantifiers check if all or most of the pointing gestures during the `that´ or `there´ refer to the same object and at the same time extract the semantic content of these objects to the variable `Object´ or `Target´, respectively. The temporal windows can easily be adapted, for example, it could be chosen to be a time interval of about two seconds centered around 600-800 ms before the deictic referring expressions.
      </Text>
    </Comment>
    <Node id="N2" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="426" yPos="506"/>
      </Graphics>
    </Node>
    <Node id="N156" name="Check If; Last Word;Exists" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="S94" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="666" yPos="66" ctrlXPos="726" ctrlYPos="66"/>
            <ControlPoint xPos="826" yPos="66" ctrlXPos="766" ctrlYPos="66"/>
          </Connection>
        </Graphics>
        <Neq>
          <Variable name="W"/>
          <String><![CDATA[]]></String>
        </Neq>
      </CEdge>
      <EEdge target="S96" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="616" yPos="105" ctrlXPos="611" ctrlYPos="124"/>
          <ControlPoint xPos="506" yPos="106" ctrlXPos="526" ctrlYPos="126"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="586" yPos="26"/>
      </Graphics>
    </Node>
    <Node id="N318" name="Inspect;Pontings;During;Speech" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="S99" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="866" yPos="266" ctrlXPos="866" ctrlYPos="286"/>
            <ControlPoint xPos="866" yPos="346" ctrlXPos="866" ctrlYPos="326"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <Add>
          <Add>
            <String><![CDATA[formost(E, (mode(E, point), during(E, ]]></String>
            <Variable name="W"/>
          </Add>
          <String><![CDATA[)), data(E, Object)).]]></String>
        </Add>
        </PrologQuery>
      </CEdge>
      <Graphics>
        <Position xPos="826" yPos="186"/>
      </Graphics>
    </Node>
    <Node id="N319" name="Inspect;Pontings;During;Speech" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N321" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="626" yPos="426" ctrlXPos="626" ctrlYPos="446"/>
            <ControlPoint xPos="626" yPos="506" ctrlXPos="626" ctrlYPos="486"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <Add>
          <Add>
            <String><![CDATA[forevery(E, (mode(E, point), during(E, ]]></String>
            <Variable name="W"/>
          </Add>
          <String><![CDATA[)), data(E, Target)).]]></String>
        </Add>
        </PrologQuery>
      </CEdge>
      <Graphics>
        <Position xPos="586" yPos="346"/>
      </Graphics>
    </Node>
    <Node id="N321" name="Add;Move;Command" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <PrologQuery>
        <Add>
          <Add>
            <Add>
              <Add>
                <String><![CDATA[add([type:cmd, name:move, object:]]></String>
                <Variable name="Object"/>
              </Add>
              <String><![CDATA[, target:]]></String>
            </Add>
            <Variable name="Target"/>
          </Add>
          <String><![CDATA[]).]]></String>
        </Add>
        </PrologQuery>
      </Commands>
      <Graphics>
        <Position xPos="586" yPos="506"/>
      </Graphics>
    </Node>
    <Node id="N330" name="Ignore;Other;Word" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="S95" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="505" yPos="376" ctrlXPos="524" ctrlYPos="371"/>
          <ControlPoint xPos="506" yPos="266" ctrlXPos="526" ctrlYPos="286"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="426" yPos="346"/>
      </Graphics>
    </Node>
    <Node id="N333" name="Ignore;Other;Word" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="S99" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="831" yPos="526" ctrlXPos="813" ctrlYPos="516"/>
          <ControlPoint xPos="826" yPos="426" ctrlXPos="806" ctrlYPos="446"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="826" yPos="506"/>
      </Graphics>
    </Node>
    <SuperNode id="S94" name="Wait For A;`Put´ After;Last Word" comment="" hideLocalVar="false" hideGlobalVar="false" start="N323;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <IEdge target="S95" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="843" yPos="106" ctrlXPos="753" ctrlYPos="261"/>
            <ControlPoint xPos="506" yPos="186" ctrlXPos="661" ctrlYPos="30"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <Add>
          <Add>
            <String><![CDATA[oldest(E, (mode(E,speech), data(E, put), after(E, ]]></String>
            <Variable name="W"/>
          </Add>
          <String><![CDATA[)), W).]]></String>
        </Add>
        </PrologQuery>
      </IEdge>
      <Graphics>
        <Position xPos="826" yPos="26"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N161" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N323" name="Wait" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N323" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
            <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S95" name="Wait For A;`That´ In;Speech" comment="" hideLocalVar="false" hideGlobalVar="false" start="N320;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <IEdge target="N318" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="506" yPos="226" ctrlXPos="646" ctrlYPos="226"/>
            <ControlPoint xPos="826" yPos="226" ctrlXPos="686" ctrlYPos="226"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <Add>
          <Add>
            <String><![CDATA[nextto(W, ]]></String>
            <Variable name="W"/>
          </Add>
          <String><![CDATA[), data(W, that).]]></String>
        </Add>
        </PrologQuery>
      </IEdge>
      <IEdge target="N330" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="466" yPos="266" ctrlXPos="466" ctrlYPos="286"/>
            <ControlPoint xPos="466" yPos="346" ctrlXPos="466" ctrlYPos="326"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <Add>
          <Add>
            <String><![CDATA[nextto(W, ]]></String>
            <Variable name="W"/>
          </Add>
          <String><![CDATA[), \+data(W, that).]]></String>
        </Add>
        </PrologQuery>
      </IEdge>
      <Graphics>
        <Position xPos="426" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N162" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N320" name="Wait" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N320" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
            <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S96" name="Wait For A;`Put´ In;Speech" comment="" hideLocalVar="false" hideGlobalVar="false" start="N322;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <IEdge target="S95" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="466" yPos="106" ctrlXPos="466" ctrlYPos="126"/>
            <ControlPoint xPos="466" yPos="186" ctrlXPos="466" ctrlYPos="166"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <String><![CDATA[oldest(E, (mode(E,speech), data(E, put)), W).]]></String>
        </PrologQuery>
      </IEdge>
      <Graphics>
        <Position xPos="426" yPos="26"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N160" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N322" name="Wait" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N322" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
            <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S99" name="Wait For A;`There´ In;Speech" comment="" hideLocalVar="false" hideGlobalVar="false" start="N324;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <IEdge target="N319" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="826" yPos="386" ctrlXPos="766" ctrlYPos="386"/>
            <ControlPoint xPos="666" yPos="386" ctrlXPos="726" ctrlYPos="386"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <Add>
          <Add>
            <String><![CDATA[nextto(W, ]]></String>
            <Variable name="W"/>
          </Add>
          <String><![CDATA[), data(W, there).]]></String>
        </Add>
        </PrologQuery>
      </IEdge>
      <IEdge target="N333" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="866" yPos="426" ctrlXPos="866" ctrlYPos="446"/>
            <ControlPoint xPos="866" yPos="506" ctrlXPos="866" ctrlYPos="486"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <Add>
          <Add>
            <String><![CDATA[nextto(W, ]]></String>
            <Variable name="W"/>
          </Add>
          <String><![CDATA[), \+data(W, there).]]></String>
        </Add>
        </PrologQuery>
      </IEdge>
      <Graphics>
        <Position xPos="826" yPos="346"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N300" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N324" name="Wait" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N324" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
            <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
      </Node>
    </SuperNode>
  </SuperNode>
  <SuperNode id="S98" name="Put-That-;There;Testing" comment="" hideLocalVar="false" hideGlobalVar="false" start="N326;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <Graphics>
      <Position xPos="746" yPos="426"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </GlobalVariableBadge>
    <Node id="N325" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="26" yPos="26"/>
      </Graphics>
    </Node>
    <Node id="N326" name="Wait" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:speech, data:x, time:0,dist:0,life:2]).]]></String>
        </PrologQuery>
      </Commands>
      <TEdge target="N328" start="" timeout="1000">
      <Graphics>
        <Connection>
          <ControlPoint xPos="466" yPos="106" ctrlXPos="466" ctrlYPos="126"/>
          <ControlPoint xPos="466" yPos="186" ctrlXPos="466" ctrlYPos="166"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="426" yPos="26"/>
      </Graphics>
    </Node>
    <Node id="N327" name="That" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:gest, data:object1, time:3511,dist:0,life:100]).]]></String>
        </PrologQuery>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:gest, data:object2, time:3745,dist:0,life:100]).]]></String>
        </PrologQuery>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:gest, data:object2, time:3924,dist:0,life:100]).]]></String>
        </PrologQuery>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:gest, data:that, time:2530,dist:0,life:1498]).]]></String>
        </PrologQuery>
      </Commands>
      <TEdge target="N331" start="" timeout="1000">
      <Graphics>
        <Connection>
          <ControlPoint xPos="466" yPos="426" ctrlXPos="466" ctrlYPos="486"/>
          <ControlPoint xPos="466" yPos="586" ctrlXPos="466" ctrlYPos="526"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="426" yPos="346"/>
      </Graphics>
    </Node>
    <Node id="N328" name="Put" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:speech, data:put, time:5,dist:0,life:1047]).]]></String>
        </PrologQuery>
      </Commands>
      <TEdge target="N329" start="" timeout="1000">
      <Graphics>
        <Connection>
          <ControlPoint xPos="506" yPos="226" ctrlXPos="646" ctrlYPos="226"/>
          <ControlPoint xPos="826" yPos="226" ctrlXPos="686" ctrlYPos="226"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="426" yPos="186"/>
      </Graphics>
    </Node>
    <Node id="N331" name="There" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:gest, data:target1, time:4537,dist:0,life:100]).]]></String>
        </PrologQuery>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:gest, data:target1, time:5123,dist:0,life:100]).]]></String>
        </PrologQuery>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:gest, data:target1, time:5692,dist:0,life:100]).]]></String>
        </PrologQuery>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:speech, data:there, time:4923,dist:0,life:2317]).]]></String>
        </PrologQuery>
      </Commands>
      <Graphics>
        <Position xPos="426" yPos="586"/>
      </Graphics>
    </Node>
    <Node id="N329" name="Err" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:speech, data:err, time:1097,dist:0,life:257]).]]></String>
        </PrologQuery>
      </Commands>
      <TEdge target="N332" start="" timeout="1000">
      <Graphics>
        <Connection>
          <ControlPoint xPos="866" yPos="266" ctrlXPos="866" ctrlYPos="286"/>
          <ControlPoint xPos="866" yPos="346" ctrlXPos="866" ctrlYPos="326"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="826" yPos="186"/>
      </Graphics>
    </Node>
    <Node id="N332" name="Put" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <PrologQuery>
        <String><![CDATA[add([type:event, mode:speech, data:put, time:1577,dist:0,life:847]).]]></String>
        </PrologQuery>
      </Commands>
      <TEdge target="N327" start="" timeout="1000">
      <Graphics>
        <Connection>
          <ControlPoint xPos="826" yPos="386" ctrlXPos="686" ctrlYPos="386"/>
          <ControlPoint xPos="506" yPos="386" ctrlXPos="646" ctrlYPos="386"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="826" yPos="346"/>
      </Graphics>
    </Node>
  </SuperNode>
  <UserCommands>
    <UserCommand name="print" classname ="java.lang.System.out" method="println">
      <Argument name="text" type="java.lang.String"/>
    </UserCommand>
  </UserCommands>
  <ClassPath>
  </ClassPath>
  <InitContext></InitContext>
</SceneFlow>